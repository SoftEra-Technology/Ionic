(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{WNRU:function(t,e,T){"use strict";T.r(e);var E=T("8Y7J");class l{}var n=T("MKJQ"),I=T("sZkV"),i=T("s7LF");class o{constructor(t,e){this.navParams=t,this.modalController=e,this.comment=this.navParams.get("comment")}ngOnInit(){}save_Comment(){this.dismiss()}close_Comment(){this.dismiss()}dismiss(){this.modalController.dismiss(this.comment)}}var D=E.ob({encapsulation:0,styles:[[""]],data:{}});function A(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,23,"ion-content",[],null,null,null,n.x,n.d)),E.pb(1,49152,null,0,I.r,[E.h,E.k,E.x],null,null),(t()(),E.qb(2,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),E.qb(3,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),E.qb(4,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),E.qb(5,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),E.qb(6,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),E.qb(7,0,null,0,1,"div",[["style","margin-left: 8px; margin-right: 8px;"]],null,null,null,null,null)),(t()(),E.Ib(-1,null,["Comment"])),(t()(),E.qb(9,0,null,0,7,"div",[["style","border-style: double; margin-left: 8px; margin-right: 8px;"]],null,null,null,null,null)),(t()(),E.qb(10,0,null,null,6,"ion-textarea",[["cols","25"],["rows","6"],["style","background-color: whitesmoke;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(t,e,T){var l=!0,n=t.component;return"ionBlur"===e&&(l=!1!==E.Cb(t,11)._handleBlurEvent(T.target)&&l),"ionChange"===e&&(l=!1!==E.Cb(t,11)._handleInputEvent(T.target)&&l),"ngModelChange"===e&&(l=!1!==(n.comment=T)&&l),l}),n.N,n.t)),E.pb(11,16384,null,0,I.Hb,[E.k],null,null),E.Fb(1024,null,i.h,(function(t){return[t]}),[I.Hb]),E.pb(13,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.h]],{model:[0,"model"]},{update:"ngModelChange"}),E.Fb(2048,null,i.i,null,[i.l]),E.pb(15,16384,null,0,i.j,[[4,i.i]],null,null),E.pb(16,49152,null,0,I.sb,[E.h,E.k,E.x],{cols:[0,"cols"],rows:[1,"rows"]},null),(t()(),E.qb(17,0,null,0,6,"div",[["style","margin-left: 8px; margin-right: 8px;"]],null,null,null,null,null)),(t()(),E.qb(18,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.close_Comment()&&E),E}),n.v,n.b)),E.pb(19,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["Exit"])),(t()(),E.qb(21,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.save_Comment()&&E),E}),n.v,n.b)),E.pb(22,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["Save"]))],(function(t,e){t(e,13,0,e.component.comment),t(e,16,0,"25","6"),t(e,19,0,"medium"),t(e,22,0,"medium")}),(function(t,e){t(e,10,0,E.Cb(e,15).ngClassUntouched,E.Cb(e,15).ngClassTouched,E.Cb(e,15).ngClassPristine,E.Cb(e,15).ngClassDirty,E.Cb(e,15).ngClassValid,E.Cb(e,15).ngClassInvalid,E.Cb(e,15).ngClassPending)}))}function _(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,1,"app-question-comment",[],null,null,null,A,D)),E.pb(1,114688,null,0,o,[I.Cb,I.Ab],null,null)],(function(t,e){t(e,1,0)}),null)}var u=E.mb("app-question-comment",o,_,{},{},[]),S=T("pMnS"),s=T("SVse"),N=T("mrSG"),r=T("6GXZ"),O=T("xoVG"),h=T("kwUn"),a=T("Pn9U"),c=T("b6o4");class d{constructor(t,e,T,E,l,n,I,i,o){this.userService=t,this.router=e,this.network=T,this.platform=E,this.sqlite=l,this.activatedRoute=n,this.camera=I,this.modalController=i,this.screenOrientation=o,this.database_name="AUDIT_DB.db",this.image="",this.selectedRadioGroupValue="0",this.Question_comment="",this.sImagePushed="No",this.sIncluded="Yes",this.sImageName="akshay.jpg",this.activatedRoute.queryParams.subscribe(t=>{console.log(JSON.parse(t.value)),this.Query_data=JSON.parse(t.value),console.log("list page"),console.log(this.Query_data.AttemptedId)}),this.platform.ready().then(()=>{this.createDB(),this.unlockScreen(),this.setPortrait()}).catch(t=>{console.log(t)})}setPortrait(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT)}unlockScreen(){this.screenOrientation.unlock()}ngOnInit(){}openCam(){this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(t=>{this.imageData=t,this.image=window.Ionic.WebView.convertFileSrc(t)},t=>{console.log("error "+JSON.stringify(t))})}upload(){const t=(new Date).valueOf()+".jpeg",e=this.dataURItoBlob(this.imageData),T=new File([e],t,{type:"image/jpeg"});(new FormData).append("file",T)}dataURItoBlob(t){const e=window.atob(t),T=new ArrayBuffer(e.length),E=new Uint8Array(T);for(let l=0;l<e.length;l++)E[l]=e.charCodeAt(l);return new Blob([E],{type:"image/jpeg"})}Previous_Question(){1===this.Question_order?this.section_frist_order===this.Section_order?this.router.navigate(["/list-audit"],{queryParams:{value:JSON.stringify({AttemptedId:this.Attempted_id,AuditId:this.Query_data.AuditId,Storeid:this.Query_data.Store_id})}}):this.fetchPrevAttemptedSection(Number(this.Attempted_id),Number(this.Query_data.AuditId),Number(this.Section_id)):this.fetchAttemptedAuditPrevQuestionBySQL(Number(this.Attempted_id),Number(this.Section_id),Number(this.Query_data.AuditId),Number(this.Question_id))}Review_page(){this.router.navigate(["/list-audit"],{queryParams:{value:JSON.stringify({AttemptedId:this.Attempted_id,AuditId:this.Query_data.AuditId,Storeid:this.Query_data.Store_id})}})}Next_Question(){console.log("section order"+this.Section_order),console.log(this.section_frist_order),console.log(this.Section_last_order),this.Total_Question===this.Question_order?this.Section_last_order===this.Section_order?this.router.navigate(["/list-audit"],{queryParams:{value:JSON.stringify({AttemptedId:this.Attempted_id,AuditId:this.Query_data.AuditId,Storeid:this.Query_data.Store_id})}}):this.fetchNextAttemptedSection(Number(this.Attempted_id),Number(this.Query_data.AuditId),Number(this.Section_id)):this.fetchAttemptedAuditNextQuestionBySQL(Number(this.Attempted_id),Number(this.Section_id),Number(this.Query_data.AuditId),Number(this.Question_id))}Add_Comment(){return N.a(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:o,componentProps:{comment:this.Question_comment}});return t.onDidDismiss().then(t=>{console.log("data from model popup"),console.log(t);const e=t.data;console.log(e),this.Question_comment=e}),yield t.present()}))}View_Comment(){this.Add_Comment()}createDB(){console.log("database created"),this.sqlite.create({name:this.database_name,location:"default"}).then(t=>{this.databaseObj=t,this.fetchAttemptedSection(Number(this.Query_data.AttemptedId),Number(this.Query_data.AuditId),Number(this.Query_data.SectionId)),this.fetchAttemptedQuestionBySQL(Number(this.Query_data.AttemptedId),Number(this.Query_data.AuditId),Number(this.Query_data.SectionId),Number(this.Query_data.QuestionID)),console.log("questionid: "+this.Query_data.QuestionID),this.fetchQuestionChoice(Number(this.Query_data.AuditId),Number(this.Query_data.SectionId),Number(this.Query_data.QuestionID))}).catch(t=>{console.log("error "+JSON.stringify(t))})}radioGroupChange(t){console.log("radioGroupChange",t.detail),this.selectedRadioGroup=t.detail,this.selectedRadioGroupValue=this.selectedRadioGroup.value,console.log(this.selectedRadioGroupValue),this.value_for_update_choice(this.selectedRadioGroupValue)}Value_for_the_page(){if(this.AttemptedSection.length>0){this.section_frist_order=this.AttemptedSection[0].SECTION_ORDER,this.Section_last_order=this.AttemptedSection[this.AttemptedSection.length-1].SECTION_ORDER,this.Attempted_id=this.Query_data.AttemptedId;for(var t=0;t<=this.AttemptedSection.length;t++)this.AttemptedSection[t].SECTION_ID===this.Query_data.SectionId&&(this.Section_id=this.AttemptedSection[t].SECTION_ID,this.Section_Name=this.AttemptedSection[t].SECTION_NAME,this.Total_Question=this.AttemptedSection[t].T_QUESTION_COUNT,this.Section_order=this.AttemptedSection[t].SECTION_ORDER);this.value_for_the_page_question_choice()}}value_for_the_page_question_choice(){"Yes/No"==this.Question_type||"Choice"==this.Question_type?(this.fetchQuestionChoice(Number(this.Query_data.AuditId),Number(this.Section_id),Number(this.Question_id)),"Done"==this.Question_Status&&this.fetchQuestionChoice_Answered(Number(this.Query_data.AuditId),Number(this.Section_id),Number(this.Question_id))):"Standard"==this.Question_type&&this.fetchAttemptedQuestionStandardBySQL(Number(this.Attempted_id),Number(this.Query_data.AuditId),Number(this.Question_id))}fetchAttemptedSection(t,e,T){this.databaseObj.executeSql("SELECT B.SECTION_NAME AS P_SECTION_NAME,A.ATTEMPTED_ID,A.AUDIT_ID,A.SECTION_ID,A.PARENT_SECTION_ID,A.SECTION_NAME,A.SECTION_DESC,A.SECTION_ORDER,A.SECTION_PT,A.T_QUESTION_COUNT,((SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND SECTION_ID=A.SECTION_ID AND QUESTION_STATUS<>'Open')+(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND QUESTION_STATUS<>'Open' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID))) AS ATTEMPTQUESTION,(SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes') AS SECTION_MARKS,(IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS MARKS_SCORED FROM AUDIT_ATTEMPTED_SECTION A LEFT JOIN AUDIT_ATTEMPTED_SECTION B ON A.PARENT_SECTION_ID=B.SECTION_ID AND A.ATTEMPTED_ID=B.ATTEMPTED_ID WHERE A.ATTEMPTED_ID="+t+" AND A.S_QUESTION_COUNT>0",[]).then(t=>{if(this.AttemptedSection=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedSection.push(t.rows.item(e));console.log("section in choice"),console.log(this.AttemptedSection)}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchAttemptedQuestionBySQL(t,e,T,E){this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,SECTION_ID,QUESTION_ID,QUESTION_NAME,QUESTION_TYPE,QUESTION_TYPE_ID,QUESTION_ORDER,CASE WHEN IS_INCLUDED='Yes' THEN QUESTION_MARKS ELSE 0 END AS QUESTION_MARKS,MARKS_SCORED,QUESTION_STATUS,QUESTION_COMMENT,IS_INCLUDED,IS_CRITICAL FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID="+T+" ORDER BY QUESTION_ORDER",[]).then(t=>{if(this.AttemptedQuestionBySQL=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedQuestionBySQL.push(t.rows.item(e)),this.AttemptedQuestionBySQL[e].QUESTION_ID===this.Query_data.QuestionID&&(this.Question_id=this.AttemptedQuestionBySQL[e].QUESTION_ID,this.Question_order=this.AttemptedQuestionBySQL[e].QUESTION_ORDER,this.Question_name=this.AttemptedQuestionBySQL[e].QUESTION_NAME,this.Question_type=this.AttemptedQuestionBySQL[e].QUESTION_TYPE,this.Question_Marks=this.AttemptedQuestionBySQL[e].QUESTION_MARKS,this.Question_comment=this.AttemptedQuestionBySQL[e].QUESTION_COMMENT,this.Question_Status=this.AttemptedQuestionBySQL[e].QUESTION_STATUS,this.Value_for_the_page(),this.value_for_the_page_question_choice());console.log("question in choice Value_for_the_page"),console.log(this.AttemptedQuestionBySQL)}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchAttemptedQuestionChoiceBySQL(t,e,T){this.databaseObj.executeSql("SELECT A.ATTEMPTED_ID,A.AUDIT_ID,A.SECTION_ID,A.QUESTION_ID,A.CHOICE_ID,A.CHOICE_TEXT,A.POINTS,A.COMMENTS,A.CHOICE_VALUE,B.IMAGE_NAME FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE A INNER JOIN AUDIT_ATTEMPTED_QUESTIONS B ON A.ATTEMPTED_ID=B.ATTEMPTED_ID AND A.AUDIT_ID=B.AUDIT_ID AND A.SECTION_ID=B.SECTION_ID AND A.QUESTION_ID=B.QUESTION_ID WHERE A.ATTEMPTED_ID="+t+" AND A.AUDIT_ID="+e+" AND A.QUESTION_ID="+T,[]).then(t=>{if(this.AttemptedQuestionChoiceBySQL=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedQuestionChoiceBySQL.push(t.rows.item(e));console.log("choice of the  question"),console.log(this.AttemptedQuestionChoiceBySQL)}}).catch(t=>{console.log("error "+JSON.stringify(t))}),console.log("akshay")}fetchAttemptedAuditPrevQuestionBySQL(t,e,T,E){this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,SECTION_ID,QUESTION_ID,QUESTION_NAME,QUESTION_TYPE,QUESTION_TYPE_ID,QUESTION_ORDER,QUESTION_MARKS,MARKS_SCORED,QUESTION_STATUS,QUESTION_COMMENT,IS_INCLUDED FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+T+" AND SECTION_ID="+e+" AND QUESTION_ORDER=(SELECT MAX(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND SECTION_ID="+e+" AND AUDIT_ID="+T+" AND QUESTION_ORDER<(SELECT QUESTION_ORDER FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND SECTION_ID="+e+" AND AUDIT_ID="+T+" AND QUESTION_ID="+E+"))",[]).then(t=>{if(this.AttemptedAuditPrevQuestionBySQL=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedAuditPrevQuestionBySQL.push(t.rows.item(e));return this.Question_id=this.AttemptedAuditPrevQuestionBySQL[0].QUESTION_ID,this.Question_order=this.AttemptedAuditPrevQuestionBySQL[0].QUESTION_ORDER,this.Question_name=this.AttemptedAuditPrevQuestionBySQL[0].QUESTION_NAME,this.Question_type=this.AttemptedQuestionBySQL[0].QUESTION_TYPE,this.Question_Marks=this.AttemptedAuditPrevQuestionBySQL[0].QUESTION_MARKS,this.Question_comment=this.AttemptedAuditPrevQuestionBySQL[0].QUESTION_COMMENT,this.Question_Status=this.AttemptedAuditPrevQuestionBySQL[0].QUESTION_STATUS,this.value_for_the_page_question_choice(),this.AttemptedAuditPrevQuestionBySQL}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchPrevAttemptedSection(t,e,T){this.databaseObj.executeSql("SELECT (SELECT QUESTION_ID FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID AND QUESTION_ORDER=(SELECT MAX(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID)) AS QUESTION_ID,A.SECTION_ID,A.T_QUESTION_COUNT,A.SECTION_NAME,(SELECT QUESTION_NAME FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID AND QUESTION_ORDER=(SELECT MAX(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID)) AS QUESTION_NAME,(SELECT QUESTION_TYPE FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID AND QUESTION_ORDER=(SELECT MAX(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID)) AS QUESTION_TYPE FROM AUDIT_ATTEMPTED_SECTION A WHERE A.ATTEMPTED_ID="+t+" AND A.AUDIT_ID="+e+" AND A.SECTION_ORDER=(SELECT MAX(SECTION_ORDER) FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ORDER<(SELECT SECTION_ORDER FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID="+T+"))",[]).then(t=>{if(this.PrevAttemptedSection=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.PrevAttemptedSection.push(t.rows.item(e));this.Section_id=this.PrevAttemptedSection[0].SECTION_ID,this.Section_Name=this.PrevAttemptedSection[0].SECTION_NAME,this.Total_Question=this.PrevAttemptedSection[0].T_QUESTION_COUNT,this.Section_order=this.NextAttemptedSection[0].SECTION_ORDER,this.fetchAttemptedQuestionBySQLForSectionChange(Number(this.Query_data.AttemptedId),Number(this.Query_data.AuditId),Number(this.Section_id))}}).catch(t=>{console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(t))})}fetchAttemptedAuditNextQuestionBySQL(t,e,T,E){this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,SECTION_ID,QUESTION_ID,QUESTION_NAME,QUESTION_TYPE,QUESTION_TYPE_ID,QUESTION_ORDER,QUESTION_MARKS,MARKS_SCORED,QUESTION_STATUS,QUESTION_COMMENT,IS_INCLUDED FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+T+" AND SECTION_ID="+e+" AND QUESTION_ORDER=(SELECT MIN(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND SECTION_ID="+e+" AND AUDIT_ID="+T+" AND QUESTION_ORDER>(SELECT QUESTION_ORDER FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND SECTION_ID="+e+" AND AUDIT_ID="+T+" AND QUESTION_ID="+E+"))",[]).then(t=>{if(this.AttemptedAuditNextQuestionBySQL=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedAuditNextQuestionBySQL.push(t.rows.item(e));this.Question_id=this.AttemptedAuditNextQuestionBySQL[0].QUESTION_ID,this.Question_order=this.AttemptedAuditNextQuestionBySQL[0].QUESTION_ORDER,this.Question_name=this.AttemptedAuditNextQuestionBySQL[0].QUESTION_NAME,this.Question_type=this.AttemptedAuditNextQuestionBySQL[0].QUESTION_TYPE,this.Question_Marks=this.AttemptedAuditNextQuestionBySQL[0].QUESTION_MARKS,this.Question_comment=this.AttemptedAuditNextQuestionBySQL[0].QUESTION_COMMENT,this.Question_Status=this.AttemptedAuditNextQuestionBySQL[0].QUESTION_STATUS,this.value_for_the_page_question_choice()}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchNextAttemptedSection(t,e,T){this.databaseObj.executeSql("SELECT (SELECT QUESTION_ID FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID AND QUESTION_ORDER=(SELECT MIN(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID)) AS QUESTION_ID,A.SECTION_ID,A.T_QUESTION_COUNT,A.SECTION_NAME,(SELECT QUESTION_NAME FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID AND QUESTION_ORDER=(SELECT MIN(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID)) AS QUESTION_NAME,(SELECT QUESTION_TYPE FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID AND QUESTION_ORDER=(SELECT MIN(QUESTION_ORDER) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID=A.SECTION_ID)) AS QUESTION_TYPE FROM AUDIT_ATTEMPTED_SECTION A WHERE A.ATTEMPTED_ID="+t+" AND A.AUDIT_ID="+e+" AND A.SECTION_ORDER=(SELECT MIN(SECTION_ORDER) FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND PARENT_SECTION_ID=(SELECT PARENT_SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID="+T+") AND SECTION_ORDER>(SELECT SECTION_ORDER FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID="+T+")) AND A.PARENT_SECTION_ID=(SELECT PARENT_SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID="+T+")",[]).then(t=>{if(this.NextAttemptedSection=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.NextAttemptedSection.push(t.rows.item(e));this.Attempted_id=this.Query_data.AttemptedId,this.Section_id=this.NextAttemptedSection[0].SECTION_ID,this.Section_Name=this.NextAttemptedSection[0].SECTION_NAME,this.Total_Question=this.NextAttemptedSection[0].T_QUESTION_COUNT,this.Section_order=this.NextAttemptedSection[0].SECTION_ORDER,this.fetchAttemptedQuestionBySQLForSectionChange(Number(this.Query_data.AttemptedId),Number(this.Query_data.AuditId),Number(this.Section_id))}}).catch(t=>{console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(t))})}fetchAttemptedQuestionBySQLForSectionChange(t,e,T){this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,SECTION_ID,QUESTION_ID,QUESTION_NAME,QUESTION_TYPE,QUESTION_TYPE_ID,QUESTION_ORDER,CASE WHEN IS_INCLUDED='Yes' THEN QUESTION_MARKS ELSE 0 END AS QUESTION_MARKS,MARKS_SCORED,QUESTION_STATUS,QUESTION_COMMENT,IS_INCLUDED,IS_CRITICAL FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND SECTION_ID="+T+" ORDER BY QUESTION_ORDER",[]).then(t=>{if(this.AttemptedQuestionBySQLForSectionChange=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedQuestionBySQLForSectionChange.push(t.rows.item(e));this.Question_id=this.AttemptedQuestionBySQLForSectionChange[0].QUESTION_ID,this.Question_order=this.AttemptedQuestionBySQLForSectionChange[0].QUESTION_ORDER,this.Question_name=this.AttemptedQuestionBySQLForSectionChange[0].QUESTION_NAME,this.Question_type=this.AttemptedQuestionBySQLForSectionChange[0].QUESTION_TYPE,this.Question_Marks=this.AttemptedQuestionBySQLForSectionChange[0].QUESTION_MARKS,this.Question_comment=this.AttemptedQuestionBySQLForSectionChange[0].QUESTION_COMMENT,this.Question_Status=this.AttemptedQuestionBySQLForSectionChange[0].QUESTION_STATUS,console.log("question in choice Value_for_the_page"),console.log(this.AttemptedQuestionBySQL),this.value_for_the_page_question_choice()}}).catch(t=>{console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(t))})}fetchQuestionById(t,e,T){this.databaseObj.executeSql("SELECT _id,AUDIT_ID,SECTION_ID,QUESTION_ID,QUESTION_TYPE_ID,QUESTION_NAME,QUESTION_TYPE,QUESTION_ORDER,IS_CRITICAL,QUESTION_MARKS,(SELECT COUNT(*) FROM QUESTION_TB WHERE AUDIT_ID="+t+" AND SECTION_ID="+e+") AS CNT FROM QUESTION_TB t WHERE AUDIT_ID="+t+" AND SECTION_ID="+e+" AND QUESTION_ID="+T,[]).then(t=>{if(this.QuestionById=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.QuestionById.push(t.rows.item(e));return this.Value_for_the_page(),this.QuestionById}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchQuestionBased(t,e,T){this.databaseObj.executeSql("SELECT *  FROM QUESTION_STANDARD_TBWHERE AUDIT_ID="+t+" AND QUESTION_ID="+T,[]).then(t=>{if(this.QuestionBased=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.QuestionBased.push(t.rows.item(e));return this.QuestionBased}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchQuestionBasedValues(t,e,T,E){this.databaseObj.executeSql("SELECT _id,AUDIT_ID,SECTION_ID,QUESTION_ID,STANDARD_ID,VALUE_ID,VALUE_NAME FROM QUESTION_STANDARD_PREDEFINED_TB WHERE AUDIT_ID="+t+" AND SECTION_ID="+e+" AND QUESTION_ID="+T+" AND STANDARD_ID="+E,[]).then(t=>{if(this.QuestionBasedValues=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.QuestionBasedValues.push(t.rows.item(e));return this.QuestionBasedValues}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchQuestionChoice(t,e,T){this.databaseObj.executeSql("SELECT * FROM QUESTION_CHOICE_TB WHERE AUDIT_ID="+t+" AND QUESTION_ID="+T,[]).then(E=>{if(this.QuestionChoice=[],console.log(E),E.rows.length>0){for(var l=0;l<E.rows.length;l++)this.QuestionChoice.push(E.rows.item(l));console.log("choice value of this question"),console.log(this.QuestionChoice),this.fetchQuestionChoice_Answered(Number(t),Number(e),Number(T))}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchQuestionChoice_Answered(t,e,T){this.databaseObj.executeSql("SELECT * FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE WHERE AUDIT_ID="+t+" AND QUESTION_ID="+T,[]).then(t=>{if(this.QuestionChoice_answered=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.QuestionChoice_answered.push(t.rows.item(e));this.selectedPOINTS="",this.Choice_selected_id="",this.selectedPOINTS=this.QuestionChoice_answered[0].POINTS,this.Choice_selected_id=this.QuestionChoice_answered[0].CHOICE_ID,console.log("choice value of this question"),console.log(this.QuestionChoice)}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchTopAttemptedSection(t,e){this.databaseObj.executeSql("SELECT A.SECTION_ID,A.SECTION_NAME,A.SECTION_ORDER,A.SECTION_PT,A.T_QUESTION_COUNT,((SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND SECTION_ID=A.SECTION_ID AND QUESTION_STATUS<>'Open')+(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND QUESTION_STATUS<>'Open' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID))) AS ATTEMPTQUESTION,(IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS SECTION_MARKS,(IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS MARKS_SCORED FROM AUDIT_ATTEMPTED_SECTION A LEFT JOIN AUDIT_ATTEMPTED_SECTION B ON A.PARENT_SECTION_ID=B.SECTION_ID AND A.ATTEMPTED_ID=B.ATTEMPTED_ID WHERE A.ATTEMPTED_ID="+t+" AND A.PARENT_SECTION_ID=0 ORDER BY A.SECTION_ORDER",[]).then(t=>{if(this.TopAttemptedSection=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.TopAttemptedSection.push(t.rows.item(e));return this.TopAttemptedSection}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchSLAttemptedSection(t,e,T){this.databaseObj.executeSql("SELECT * FROM SECTION_TB WHERE AUDIT_ID="+T+" AND PARENT_SECTION_ID="+e,[]).then(t=>{if(this.SLAttemptedSection_check=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.SLAttemptedSection_check.push(t.rows.item(e));return this.SLAttemptedSection_check}}).catch(t=>{console.log("error "+JSON.stringify(t))}),null!=this.SLAttemptedSection_check?this.SLAttemptedSection_check.length>0?this.databaseObj.executeSql("SELECT A.SECTION_ID,A.SECTION_NAME,A.SECTION_ORDER,A.SECTION_PT,A.T_QUESTION_COUNT,((SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND SECTION_ID=A.SECTION_ID AND QUESTION_STATUS<>'Open')+(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND QUESTION_STATUS<>'Open' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID))) AS ATTEMPTQUESTION,(IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS SECTION_MARKS,(IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS MARKS_SCORED FROM AUDIT_ATTEMPTED_SECTION A LEFT JOIN AUDIT_ATTEMPTED_SECTION B ON A.PARENT_SECTION_ID=B.SECTION_ID AND A.ATTEMPTED_ID=B.ATTEMPTED_ID WHERE A.ATTEMPTED_ID="+t+" AND A.PARENT_SECTION_ID="+e+" ORDER BY A.SECTION_ORDER",[]).then(t=>{if(this.SLAttemptedSection=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.SLAttemptedSection.push(t.rows.item(e));return this.SLAttemptedSection}}).catch(t=>{console.log("error "+JSON.stringify(t))}):this.databaseObj.executeSql("SELECT A.SECTION_ID,A.SECTION_NAME,A.SECTION_ORDER,A.SECTION_PT,A.T_QUESTION_COUNT,((SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND SECTION_ID=A.SECTION_ID AND QUESTION_STATUS<>'Open')+(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND QUESTION_STATUS<>'Open' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID))) AS ATTEMPTQUESTION,(IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS SECTION_MARKS,(IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS MARKS_SCORED FROM AUDIT_ATTEMPTED_SECTION A LEFT JOIN AUDIT_ATTEMPTED_SECTION B ON A.PARENT_SECTION_ID=B.SECTION_ID AND A.ATTEMPTED_ID=B.ATTEMPTED_ID WHERE A.ATTEMPTED_ID="+t+" AND A.SECTION_ID="+e+" ORDER BY A.SECTION_ORDER",[]).then(t=>{if(this.SLAttemptedSection=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.SLAttemptedSection.push(t.rows.item(e));return this.SLAttemptedSection}}).catch(t=>{console.log("error "+JSON.stringify(t))}):this.databaseObj.executeSql("SELECT A.SECTION_ID,A.SECTION_NAME,A.SECTION_ORDER,A.SECTION_PT,A.T_QUESTION_COUNT,((SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND SECTION_ID=A.SECTION_ID AND QUESTION_STATUS<>'Open')+(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND AUDIT_ID=A.AUDIT_ID AND QUESTION_STATUS<>'Open' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID))) AS ATTEMPTQUESTION,(IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS SECTION_MARKS,(IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND SECTION_ID=A.SECTION_ID AND IS_INCLUDED='Yes'),0)+IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=A.ATTEMPTED_ID AND IS_INCLUDED='Yes' AND SECTION_ID IN(SELECT SECTION_ID FROM AUDIT_ATTEMPTED_SECTION WHERE PARENT_SECTION_ID=A.SECTION_ID)),0)) AS MARKS_SCORED FROM AUDIT_ATTEMPTED_SECTION A LEFT JOIN AUDIT_ATTEMPTED_SECTION B ON A.PARENT_SECTION_ID=B.SECTION_ID AND A.ATTEMPTED_ID=B.ATTEMPTED_ID WHERE A.ATTEMPTED_ID="+t+" AND A.PARENT_SECTION_ID="+e+" ORDER BY A.SECTION_ORDER",[]).then(t=>{if(this.SLAttemptedSection=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.SLAttemptedSection.push(t.rows.item(e));return this.SLAttemptedSection}}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchGenericImageNotPushedAttemptedQuestionBySQL(t,e){this.databaseObj.executeSql("SELECT AUDIT_ID,IMAGE_NAME FROM AUDIT_ATTEMPTED_IMAGES_TB WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND IMAGE_PUSHED='No' AND IMAGE_NAME<>'' AND IMAGE_NAME<>'null'",[]).then(t=>{if(this.GenericImageNotPushedAttemptedQuestionBySQL=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.GenericImageNotPushedAttemptedQuestionBySQL.push(t.rows.item(e));return this.GenericImageNotPushedAttemptedQuestionBySQL}}).catch(t=>{console.log("error "+JSON.stringify(t))})}DeleteGenericImages(t,e){this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_IMAGES_TB WHERE ATTEMPTED_ID="+e,[])}SaveGenericImage(t,e,T,E,l,n){this.databaseObj.executeSql("INSERT INTO AUDIT_ATTEMPTED_IMAGES_TB(ATTEMPTED_ID,AUDIT_ID,STR_CODE,UNIQUE_ID,IMAGE_NAME,IMAGE_PUSHED) VALUES("+t+","+T+",'"+E+"','"+e+"','"+l+"','No')",[]).then(()=>{}).catch(t=>{console.log("error "+JSON.stringify(t))})}UpdateAuditFindings(t,e,T,E){this.databaseObj.executeSql("UPDATE AUDIT_ATTEMPTED_TB SET AUDIT_FINDINGS='"+E.replace("'","''")+"' WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+T+" AND UNIQUE_ID='"+e+"'",[]).then(()=>{}).catch(t=>{console.log("error "+JSON.stringify(t))})}GetAuditFindings(t,e,T){this.databaseObj.executeSql("SELECT AUDIT_FINDINGS FROM AUDIT_ATTEMPTED_TB WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+T+" AND UNIQUE_ID='"+e+"'",[]).then(t=>{if(this.AuditFindings=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AuditFindings.push(t.rows.item(e));return this.AuditFindings}}).catch(t=>{console.log("error "+JSON.stringify(t))})}createQStandard(t,e,T,E,l,n,I,i,o,D,A){this.databaseObj.executeSql("INSERT INTO QUESTION_STANDARD_TB(AUDIT_ID,SECTION_ID,QUESTION_ID,STANDARD_ID,STANDARD_TYPE,MIN_RANGE,MAX_RANGE,FIX,UOM,FIELD_LABEL,IS_PREDEFINED) VALUES("+t+","+e+","+T+","+E+",'"+l+"','"+n+"','"+I+"','"+i+"','"+o+"','"+D+"','"+A+"')",[]).then(()=>{console.log("data inserted")}).catch(t=>{console.log("error "+JSON.stringify(t))})}createQStandardPreDefined(t,e,T,E,l,n){this.databaseObj.executeSql("INSERT INTO QUESTION_STANDARD_PREDEFINED_TB(AUDIT_ID,SECTION_ID,QUESTION_ID,STANDARD_ID,VALUE_ID,VALUE_NAME) VALUES("+t+","+e+","+T+","+E+","+l+",'"+n+"')",[]).then(()=>{}).catch(t=>{console.log("error "+JSON.stringify(t))})}fetchAttemptedQuestionStandardBySQL(t,e,T){this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,SECTION_ID,QUESTION_ID,STANDARD_ID,FIELD_VALUE,COMMENTS,CHOICE_VALUE,POINTS,IMAGE_NAME,IMAGE_PUSHED FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND QUESTION_ID="+T,[]).then(t=>{if(this.AttemptedQuestionStandardBySQL=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedQuestionStandardBySQL.push(t.rows.item(e));console.log("standard for this qustion"),console.log(this.AttemptedQuestionStandardBySQL),this.fetchAttemptedQuestionStandardValueBySQL(Number(this.Attempted_id),Number(this.Query_data.AuditId),Number(this.Question_id),Number(this.AttemptedQuestionStandardBySQL[0].STANDARD_ID))}}).catch(t=>{console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(t))})}fetchAttemptedQuestionStandardValueBySQL(t,e,T,E){this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,SECTION_ID,QUESTION_ID,QUESTION_NAME,STANDARD_ID,VALUE_ID,VALUE_NAME,VALUE_OBSERVED,POINTS,COMMENTS,CHOICE_VALUE,IMAGE_NAME,IMAGE_PUSHED FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD_PREDEFINED WHERE ATTEMPTED_ID="+t+" AND AUDIT_ID="+e+" AND QUESTION_ID="+T+" AND STANDARD_ID="+E,[]).then(t=>{if(this.AttemptedQuestionStandardValueBySQL=[],console.log(t),t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedQuestionStandardValueBySQL.push(t.rows.item(e));console.log("Attempted Question Standard Value"),console.log("AttemptedQuestionStandardValueBySQL")}}).catch(t=>{console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(t))})}value_for_update_choice(t){for(var e=0;e<=this.QuestionChoice.length-1;e++)Number(this.QuestionChoice[e].CHOICE_ID)==Number(t)&&(this.selectedCHOICE_TEXT=this.QuestionChoice[e].CHOICE_TEXT,this.selectedCHOICE_ID=this.QuestionChoice[e].CHOICE_ID,this.selectedPOINTS=this.QuestionChoice[e].POINTS,console.log("choice seleted  id=="+this.QuestionChoice[e].CHOICE_ID));"00"===t&&(this.selectedCHOICE_TEXT="NA",this.selectedCHOICE_ID="0",this.selectedPOINTS="0",console.log("choice seleted  id=="+t)),this.fnGetSelectedValue()}fnGetSelectedValue(){this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE WHERE ATTEMPTED_ID="+this.Attempted_id+" AND AUDIT_ID="+this.Query_data.AuditId+" AND QUESTION_ID="+this.Question_id,[]).then(t=>{this.updateAuditAttemptedChoice(),console.log("delete alltempted question choice")}).catch(t=>{console.log("error "+JSON.stringify(t)),this.updateAuditAttemptedChoice()})}updateAuditAttemptedChoice(){this.databaseObj.executeSql("INSERT INTO AUDIT_ATTEMPTED_QUESTIONS_CHOICE(ATTEMPTED_ID,AUDIT_ID,SECTION_ID,QUESTION_ID,QUESTION_NAME,CHOICE_ID,CHOICE_TEXT,POINTS,COMMENTS,CHOICE_VALUE) VALUES("+this.Attempted_id+","+this.Query_data.AuditId+","+this.Section_id+","+this.Question_id+",'"+this.Question_name+"',"+this.selectedCHOICE_ID+",'"+this.selectedCHOICE_TEXT+"',"+this.selectedPOINTS+",'"+this.Question_comment+"','"+this.selectedCHOICE_TEXT+"')",[]).then(t=>{console.log("updated alltempted question choice"),this.updateAuditSection(),this.updateAuditQuestion()}).catch(t=>{console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(t))})}updateAuditSection(){this.databaseObj.executeSql("UPDATE AUDIT_ATTEMPTED_SECTION SET QUESTION_ANSWERED=(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+this.Attempted_id+" AND AUDIT_ID="+this.Query_data.AuditId+" AND SECTION_ID="+this.Section_id+" AND QUESTION_STATUS='Done') WHERE ATTEMPTED_ID="+this.Attempted_id+" AND AUDIT_ID="+this.Query_data.AuditId+" AND SECTION_ID="+this.Section_id,[]).then(t=>{console.log("updated alltempted section")}).catch(t=>{console.log("error "+JSON.stringify(t))})}updateAuditQuestion(){this.databaseObj.executeSql("UPDATE AUDIT_ATTEMPTED_QUESTIONS SET QUESTION_STATUS='Done',MARKS_SCORED="+this.selectedPOINTS+",QUESTION_COMMENT='"+this.Question_comment+"',IMAGE_NAME='"+this.sImageName+"',IS_INCLUDED='"+this.sIncluded+"',IMAGE_PUSHED='"+this.sImagePushed+"' WHERE ATTEMPTED_ID="+this.Attempted_id+" AND AUDIT_ID="+this.Query_data.AuditId+" AND QUESTION_ID="+this.Question_id,[]).then(t=>{console.log("updated all Atempted questions status ")}).catch(t=>{console.log("error "+JSON.stringify(t))})}}var C=T("iInd"),U=E.ob({encapsulation:0,styles:[[""]],data:{}});function Q(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),E.qb(1,0,null,null,3,"ion-radio",[["checked",""],["color","tertiary"],["slot","start"]],null,[[null,"ionBlur"],[null,"ionSelect"]],(function(t,e,T){var l=!0;return"ionBlur"===e&&(l=!1!==E.Cb(t,4)._handleBlurEvent(T.target)&&l),"ionSelect"===e&&(l=!1!==E.Cb(t,4)._handleIonSelect(T.target)&&l),l}),n.I,n.n)),E.Fb(5120,null,i.h,(function(t){return[t]}),[I.Fb]),E.pb(3,49152,null,0,I.U,[E.h,E.k,E.x],{color:[0,"color"],value:[1,"value"]},null),E.pb(4,16384,null,0,I.Fb,[E.k],null,null)],(function(t,e){t(e,3,0,"tertiary",E.ub(1,"",e.parent.context.$implicit.CHOICE_ID,""))}),null)}function M(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),E.qb(1,0,null,null,3,"ion-radio",[["color","tertiary"],["slot","start"]],null,[[null,"ionBlur"],[null,"ionSelect"]],(function(t,e,T){var l=!0;return"ionBlur"===e&&(l=!1!==E.Cb(t,4)._handleBlurEvent(T.target)&&l),"ionSelect"===e&&(l=!1!==E.Cb(t,4)._handleIonSelect(T.target)&&l),l}),n.I,n.n)),E.Fb(5120,null,i.h,(function(t){return[t]}),[I.Fb]),E.pb(3,49152,null,0,I.U,[E.h,E.k,E.x],{color:[0,"color"],value:[1,"value"]},null),E.pb(4,16384,null,0,I.Fb,[E.k],null,null)],(function(t,e){t(e,3,0,"tertiary",E.ub(1,"",e.parent.context.$implicit.CHOICE_ID,""))}),null)}function R(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,9,"div",[],null,null,null,null,null)),(t()(),E.qb(1,0,null,null,8,"ion-item",[],null,null,null,n.D,n.j)),E.pb(2,49152,null,0,I.E,[E.h,E.k,E.x],null,null),(t()(),E.qb(3,0,null,0,2,"ion-label",[],null,null,null,n.E,n.k)),E.pb(4,49152,null,0,I.K,[E.h,E.k,E.x],null,null),(t()(),E.Ib(5,0,["",""])),(t()(),E.fb(16777216,null,0,1,null,Q)),E.pb(7,16384,null,0,s.j,[E.L,E.I],{ngIf:[0,"ngIf"]},null),(t()(),E.fb(16777216,null,0,1,null,M)),E.pb(9,16384,null,0,s.j,[E.L,E.I],{ngIf:[0,"ngIf"]},null)],(function(t,e){var T=e.component;t(e,7,0,e.context.$implicit.CHOICE_ID===T.Choice_selected_id),t(e,9,0,e.context.$implicit.CHOICE_ID!=T.Choice_selected_id)}),(function(t,e){t(e,5,0,e.context.$implicit.CHOICE_TEXT)}))}function m(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),E.qb(1,0,null,null,3,"ion-radio",[["checked",""],["color","tertiary"],["slot","start"],["value","00"]],null,[[null,"ionBlur"],[null,"ionSelect"]],(function(t,e,T){var l=!0;return"ionBlur"===e&&(l=!1!==E.Cb(t,4)._handleBlurEvent(T.target)&&l),"ionSelect"===e&&(l=!1!==E.Cb(t,4)._handleIonSelect(T.target)&&l),l}),n.I,n.n)),E.Fb(5120,null,i.h,(function(t){return[t]}),[I.Fb]),E.pb(3,49152,null,0,I.U,[E.h,E.k,E.x],{color:[0,"color"],value:[1,"value"]},null),E.pb(4,16384,null,0,I.Fb,[E.k],null,null)],(function(t,e){t(e,3,0,"tertiary","00")}),null)}function b(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),E.qb(1,0,null,null,3,"ion-radio",[["color","tertiary"],["slot","start"],["value","00"]],null,[[null,"ionBlur"],[null,"ionSelect"]],(function(t,e,T){var l=!0;return"ionBlur"===e&&(l=!1!==E.Cb(t,4)._handleBlurEvent(T.target)&&l),"ionSelect"===e&&(l=!1!==E.Cb(t,4)._handleIonSelect(T.target)&&l),l}),n.I,n.n)),E.Fb(5120,null,i.h,(function(t){return[t]}),[I.Fb]),E.pb(3,49152,null,0,I.U,[E.h,E.k,E.x],{color:[0,"color"],value:[1,"value"]},null),E.pb(4,16384,null,0,I.Fb,[E.k],null,null)],(function(t,e){t(e,3,0,"tertiary","00")}),null)}function p(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,13,"ion-header",[],null,null,null,n.B,n.h)),E.pb(1,49152,null,0,I.y,[E.h,E.k,E.x],null,null),(t()(),E.qb(2,0,null,0,11,"div",[["style","background-color: black; align-content: center;"]],null,null,null,null,null)),(t()(),E.qb(3,0,null,null,10,"table",[["style","margin-left: 10px; margin-top: 5px; margin-bottom: 2px;"]],null,null,null,null,null)),(t()(),E.qb(4,0,null,null,9,"tbody",[],null,null,null,null,null)),(t()(),E.qb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),E.qb(6,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),E.qb(7,0,null,null,1,"span",[["style","margin-top:20px; margin-left: 5px; margin-top: 1px;"]],null,null,null,null,null)),(t()(),E.qb(8,0,null,null,0,"img",[["height","35"],["src","../../assets/tablez.png"],["width","35"]],null,null,null,null,null)),(t()(),E.qb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),E.Ib(-1,null,["\xa0"])),(t()(),E.qb(11,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),E.qb(12,0,null,null,1,"span",[["style","color: white; margin-top: 1px;"]],null,null,null,null,null)),(t()(),E.Ib(-1,null,["Audit Choice Question"])),(t()(),E.qb(14,0,null,null,36,"ion-content",[],null,null,null,n.x,n.d)),E.pb(15,49152,null,0,I.r,[E.h,E.k,E.x],null,null),(t()(),E.qb(16,0,null,0,4,"div",[],null,null,null,null,null)),(t()(),E.qb(17,0,null,null,1,"h3",[["style","color: cornflowerblue;"]],null,null,null,null,null)),(t()(),E.Ib(18,null,["",""])),(t()(),E.qb(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),E.qb(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),E.qb(21,0,null,0,3,"div",[],null,null,null,null,null)),(t()(),E.Ib(22,null,["Question "," of ",""])),(t()(),E.qb(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),E.qb(24,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),E.qb(25,0,null,0,3,"div",[],null,null,null,null,null)),(t()(),E.Ib(26,null,[" Points: ","\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0 \xa0 \xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0 Score: ",""])),(t()(),E.qb(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),E.qb(28,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),E.qb(29,0,null,0,2,"div",[],null,null,null,null,null)),(t()(),E.qb(30,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),E.Ib(31,null,[""," "])),(t()(),E.qb(32,0,null,0,18,"div",[],null,null,null,null,null)),(t()(),E.qb(33,0,null,null,16,"ion-list",[],null,null,null,n.F,n.l)),E.pb(34,49152,null,0,I.L,[E.h,E.k,E.x],null,null),(t()(),E.qb(35,0,null,0,14,"ion-radio-group",[["allow-empty-selection","false"],["name","radio-group"]],null,[[null,"ionChange"],[null,"ionBlur"]],(function(t,e,T){var l=!0,n=t.component;return"ionBlur"===e&&(l=!1!==E.Cb(t,38)._handleBlurEvent(T.target)&&l),"ionChange"===e&&(l=!1!==E.Cb(t,38)._handleChangeEvent(T.target)&&l),"ionChange"===e&&(l=!1!==n.radioGroupChange(T)&&l),l}),n.H,n.o)),E.Fb(5120,null,i.h,(function(t){return[t]}),[I.Gb]),E.pb(37,49152,null,0,I.V,[E.h,E.k,E.x],{name:[0,"name"],value:[1,"value"]},null),E.pb(38,16384,null,0,I.Gb,[E.k],null,null),(t()(),E.fb(16777216,null,0,1,null,R)),E.pb(40,278528,null,0,s.i,[E.L,E.I,E.q],{ngForOf:[0,"ngForOf"]},null),(t()(),E.qb(41,0,null,0,8,"ion-item",[],null,null,null,n.D,n.j)),E.pb(42,49152,null,0,I.E,[E.h,E.k,E.x],null,null),(t()(),E.qb(43,0,null,0,2,"ion-label",[],null,null,null,n.E,n.k)),E.pb(44,49152,null,0,I.K,[E.h,E.k,E.x],null,null),(t()(),E.Ib(-1,0,["NA"])),(t()(),E.fb(16777216,null,0,1,null,m)),E.pb(47,16384,null,0,s.j,[E.L,E.I],{ngIf:[0,"ngIf"]},null),(t()(),E.fb(16777216,null,0,1,null,b)),E.pb(49,16384,null,0,s.j,[E.L,E.I],{ngIf:[0,"ngIf"]},null),(t()(),E.qb(50,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),E.qb(51,0,null,null,21,"ion-footer",[["class","ion-no-border"]],null,null,null,n.z,n.f)),E.pb(52,49152,null,0,I.w,[E.h,E.k,E.x],null,null),(t()(),E.qb(53,0,null,0,9,"div",[["style","text-align: justify;"]],null,null,null,null,null)),(t()(),E.qb(54,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.Add_Comment()&&E),E}),n.v,n.b)),E.pb(55,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["Add Comm"])),(t()(),E.qb(57,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.View_Comment()&&E),E}),n.v,n.b)),E.pb(58,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["View Comm"])),(t()(),E.qb(60,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.openCam()&&E),E}),n.v,n.b)),E.pb(61,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["Photo"])),(t()(),E.qb(63,0,null,0,9,"div",[["style","text-align: justify;"]],null,null,null,null,null)),(t()(),E.qb(64,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.Previous_Question()&&E),E}),n.v,n.b)),E.pb(65,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["Previous"])),(t()(),E.qb(67,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.Review_page()&&E),E}),n.v,n.b)),E.pb(68,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["Review"])),(t()(),E.qb(70,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(t,e,T){var E=!0;return"click"===e&&(E=!1!==t.component.Next_Question()&&E),E}),n.v,n.b)),E.pb(71,49152,null,0,I.h,[E.h,E.k,E.x],{color:[0,"color"]},null),(t()(),E.Ib(-1,0,["Next"]))],(function(t,e){var T=e.component;t(e,37,0,"radio-group",E.ub(1,"",T.Choice_selected_id,"")),t(e,40,0,T.QuestionChoice),t(e,47,0,"0"===T.Choice_selected_id),t(e,49,0,"0"!=T.Choice_selected_id),t(e,55,0,"medium"),t(e,58,0,"medium"),t(e,61,0,"medium"),t(e,65,0,"medium"),t(e,68,0,"medium"),t(e,71,0,"medium")}),(function(t,e){var T=e.component;t(e,18,0,T.Section_Name),t(e,22,0,T.Question_order,T.Total_Question),t(e,26,0,T.Question_Marks,T.selectedPOINTS),t(e,31,0,T.Question_name),t(e,50,0,E.ub(1,"",T.image,""))}))}function P(t){return E.Kb(0,[(t()(),E.qb(0,0,null,null,1,"app-audit-choice-question",[],null,null,null,p,U)),E.pb(1,114688,null,0,d,[h.a,C.m,O.a,I.Db,r.a,C.a,a.a,I.Ab,c.a],null,null)],(function(t,e){t(e,1,0)}),null)}var g=E.mb("app-audit-choice-question",d,P,{},{},[]);class L{}class f{}T.d(e,"AuditChoiceQuestionPageModuleNgFactory",(function(){return y}));var y=E.nb(l,[],(function(t){return E.zb([E.Ab(512,E.j,E.Y,[[8,[u,S.a,g]],[3,E.j],E.v]),E.Ab(4608,s.l,s.k,[E.s,[2,s.s]]),E.Ab(4608,i.o,i.o,[]),E.Ab(4608,I.a,I.a,[E.x,E.g]),E.Ab(4608,I.Ab,I.Ab,[I.a,E.j,E.p]),E.Ab(4608,I.Eb,I.Eb,[I.a,E.j,E.p]),E.Ab(4608,a.a,a.a,[]),E.Ab(1073742336,s.b,s.b,[]),E.Ab(1073742336,i.n,i.n,[]),E.Ab(1073742336,i.g,i.g,[]),E.Ab(1073742336,I.yb,I.yb,[]),E.Ab(1073742336,L,L,[]),E.Ab(1073742336,C.n,C.n,[[2,C.s],[2,C.m]]),E.Ab(1073742336,f,f,[]),E.Ab(1073742336,l,l,[]),E.Ab(1024,C.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);