function _defineProperties(l,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,t){return n&&_defineProperties(l.prototype,n),t&&_defineProperties(l,t),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"RV+b":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),e=function l(){_classCallCheck(this,l)},o=t("pMnS"),i=t("MKJQ"),r=t("sZkV"),a=t("SVse"),c=t("s7LF"),T=t("6GXZ"),E=t("9mtz"),s=t("kwUn"),b=t("b6o4"),D=function(){function l(n,t,u,e,o){var i=this;_classCallCheck(this,l),this.platform=n,this.sqlite=t,this.userService=u,this.router=e,this.screenOrientation=o,this.database_name="AUDIT_DB.db",this.store=new E.a,this.platform.ready().then((function(){i.setLandscape(),i.createDB()})).catch((function(l){console.log(l)}))}return _createClass(l,[{key:"setLandscape",value:function(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE)}},{key:"createDB",value:function(){var l=this;console.log("database created"),this.sqlite.create({name:this.database_name,location:"default"}).then((function(n){l.databaseObj=n,l.getRows()})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"getRows",value:function(){var l=this;this.databaseObj.executeSql("SELECT * FROM USER_TB",[]).then((function(n){if(l.row_data=[],n.rows.length>0){for(var t=0;t<n.rows.length;t++)l.row_data.push(n.rows.item(t)),console.log(l.row_data[t].EMP_ID.toString());l.fetchAttemptedOpenAuditByUser(l.row_data[0].EMP_ID.toString())}})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"fetchAttemptedOpenAuditByUser",value:function(l){var n=this;this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,AUDIT_NAME,STR_CODE,STR_NAME,USER_ID,STR_MANAGER,AUDIT_DT,AUDIT_STATUS,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID) AS TOTALQUESTION,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID AND QUESTION_STATUS<>'Open') AS ATTEMPTQUESTION,(SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND IS_INCLUDED='Yes') AS AUDIT_POINTS,IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND QUESTION_STATUS<>'Open'),0) MARKS_SCORED,UNIQUE_ID FROM AUDIT_ATTEMPTED_TB t WHERE USER_ID='"+l+"' AND AUDIT_STATUS='Open'",[]).then((function(l){if(n.AttemptedOpenAuditByUser=[],console.log(l),l.rows.length>0){for(var t=0;t<l.rows.length;t++)n.AttemptedOpenAuditByUser.push(l.rows.item(t));return n.AttemptedOpenAuditByUser}})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"ngOnInit",value:function(){this.setLandscape()}},{key:"OenAudit_Page_setting",value:function(l,n,t){this.objecta="",this.objecta={AttemptedId:l,AuditId:n,Storeid:t}}},{key:"GoToAuditList",value:function(){this.router.navigate(["/list-audit"],{queryParams:{value:JSON.stringify(this.objecta)}})}},{key:"GoToDashboard",value:function(){this.router.navigate(["/dash-board"],{queryParams:{value:"refresh"}})}},{key:"DeleteAudit",value:function(){alert(this.objecta.AttemptedId),console.log(" attempted id fot delete"+this.objecta.AttemptedId),this.deletAttemptedAuditById(Number(this.objecta.AttemptedId))}},{key:"deletAttemptedAuditById",value:function(l){this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_TB WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_RECIVING_QUESTIONS WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_OPTION WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_RANGE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_VALUE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_CHOICE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_IMAGES_TB WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD_PREDEFINED WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l),window.location.reload()})).catch((function(l){alert("error "+JSON.stringify(l))}))}}]),l}(),A=t("iInd"),d=u.ob({encapsulation:0,styles:[[""]],data:{}});function h(l){return u.Jb(0,[(l()(),u.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,0,"img",[["height","40"],["src","../../assets/red_lock_48.png"],["width","50"]],null,null,null,null,null))],null,null)}function f(l){return u.Jb(0,[(l()(),u.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,0,"img",[["height","40"],["src","../../assets/refresh1.jpg"],["width","50"]],null,null,null,null,null))],null,null)}function _(l){return u.Jb(0,[(l()(),u.qb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,24,"ion-item",[],null,null,null,i.F,i.k)),u.pb(2,49152,null,0,r.F,[u.h,u.k,u.x],null,null),(l()(),u.qb(3,0,null,0,14,"table",[],null,null,null,null,null)),(l()(),u.qb(4,0,null,null,13,"tbody",[],null,null,null,null,null)),(l()(),u.qb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.qb(6,0,null,null,4,"td",[["align","center"],["rowspan","2"],["width","5%"]],null,null,null,null,null)),(l()(),u.fb(16777216,null,null,1,null,h)),u.pb(8,16384,null,0,a.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(16777216,null,null,1,null,f)),u.pb(10,16384,null,0,a.i,[u.L,u.I],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(11,0,null,null,2,"td",[["align","left"],["style","font-size:x-large;"],["width","90%"]],null,null,null,null,null)),(l()(),u.qb(12,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Hb(13,null,[" Audit: "," ",""])),(l()(),u.qb(14,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),u.qb(15,0,null,null,2,"td",[["align","left"]],null,null,null,null,null)),(l()(),u.Hb(16,null,[" \xa0\xa0Audit Performed On: "," Total Marks: "," Marks Scored: "," "])),u.Db(0,a.n,[]),(l()(),u.qb(18,0,null,0,7,"ion-note",[["color","tertiary"],["slot","end"]],null,null,null,i.I,i.n)),u.pb(19,49152,null,0,r.T,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.qb(20,0,null,0,5,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.OenAudit_Page_setting(l.context.$implicit.ATTEMPTED_ID,l.context.$implicit.AUDIT_ID,l.context.$implicit.STR_CODE)&&u),u}),i.w,i.b)),u.pb(21,49152,null,0,r.i,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.qb(22,0,null,0,3,"ion-checkbox",[["color","dark"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Cb(l,25)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Cb(l,25)._handleIonChange(t.target)&&e),e}),i.x,i.c)),u.Eb(5120,null,c.h,(function(l){return[l]}),[r.b]),u.pb(24,49152,null,0,r.p,[u.h,u.k,u.x],{color:[0,"color"]},null),u.pb(25,16384,null,0,r.b,[u.k],null,null)],(function(l,n){l(n,8,0,0===n.context.$implicit.MARKS_SCORED),l(n,10,0,n.context.$implicit.MARKS_SCORED>0),l(n,19,0,"tertiary"),l(n,21,0,"medium"),l(n,24,0,"dark")}),(function(l,n){l(n,13,0,n.context.$implicit.AUDIT_NAME,n.context.$implicit.STR_NAME),l(n,16,0,u.Ib(n,16,0,u.Cb(n,17).transform(n.context.$implicit.AUDIT_DT,0,10)),n.context.$implicit.AUDIT_POINTS,n.context.$implicit.MARKS_SCORED)}))}function I(l){return u.Jb(0,[(l()(),u.qb(0,0,null,null,13,"ion-header",[],null,null,null,i.D,i.i)),u.pb(1,49152,null,0,r.z,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,11,"div",[["style","background-color: black; align-content: center;"]],null,null,null,null,null)),(l()(),u.qb(3,0,null,null,10,"table",[["style","margin-left: 10px; margin-top: 5px; margin-bottom: 2px;"]],null,null,null,null,null)),(l()(),u.qb(4,0,null,null,9,"tbody",[],null,null,null,null,null)),(l()(),u.qb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.qb(6,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u.qb(7,0,null,null,1,"span",[["style","margin-top:20px; margin-left: 5px; margin-top: 1px;"]],null,null,null,null,null)),(l()(),u.qb(8,0,null,null,0,"img",[["height","35"],["src","../../assets/tablez.png"],["width","35"]],null,null,null,null,null)),(l()(),u.qb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Hb(-1,null,["\xa0"])),(l()(),u.qb(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u.qb(12,0,null,null,1,"span",[["style","color: white; margin-top: 1px;"]],null,null,null,null,null)),(l()(),u.Hb(-1,null,["Open Audit"])),(l()(),u.qb(14,0,null,null,3,"ion-content",[],null,null,null,i.z,i.e)),u.pb(15,49152,null,0,r.s,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,_)),u.pb(17,278528,null,0,a.h,[u.L,u.I,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(18,0,null,null,23,"ion-footer",[["class","ion-no-border"]],null,null,null,i.B,i.g)),u.pb(19,49152,null,0,r.x,[u.h,u.k,u.x],null,null),(l()(),u.qb(20,0,null,0,21,"ion-grid",[],null,null,null,i.C,i.h)),u.pb(21,49152,null,0,r.y,[u.h,u.k,u.x],null,null),(l()(),u.qb(22,0,null,0,19,"ion-row",[],null,null,null,i.L,i.q)),u.pb(23,49152,null,0,r.eb,[u.h,u.k,u.x],null,null),(l()(),u.qb(24,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),u.pb(25,49152,null,0,r.r,[u.h,u.k,u.x],null,null),(l()(),u.qb(26,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),u.qb(27,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.GoToAuditList()&&u),u}),i.w,i.b)),u.pb(28,49152,null,0,r.i,[u.h,u.k,u.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),u.Hb(-1,0,["Open"])),(l()(),u.qb(30,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),u.pb(31,49152,null,0,r.r,[u.h,u.k,u.x],null,null),(l()(),u.qb(32,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),u.qb(33,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.DeleteAudit()&&u),u}),i.w,i.b)),u.pb(34,49152,null,0,r.i,[u.h,u.k,u.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),u.Hb(-1,0,["Delete"])),(l()(),u.qb(36,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),u.pb(37,49152,null,0,r.r,[u.h,u.k,u.x],null,null),(l()(),u.qb(38,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),u.qb(39,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.GoToDashboard()&&u),u}),i.w,i.b)),u.pb(40,49152,null,0,r.i,[u.h,u.k,u.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),u.Hb(-1,0,["EXIT"]))],(function(l,n){l(n,17,0,n.component.AttemptedOpenAuditByUser),l(n,28,0,"medium","full"),l(n,34,0,"medium","full"),l(n,40,0,"medium","full")}),null)}var p=u.mb("app-open-audit",D,(function(l){return u.Jb(0,[(l()(),u.qb(0,0,null,null,1,"app-open-audit",[],null,null,null,I,d)),u.pb(1,114688,null,0,D,[r.Fb,T.a,s.a,A.m,b.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),S=function l(){_classCallCheck(this,l)};t.d(n,"OpenAuditPageModuleNgFactory",(function(){return O}));var O=u.nb(e,[],(function(l){return u.zb([u.Ab(512,u.j,u.Y,[[8,[o.a,p]],[3,u.j],u.v]),u.Ab(4608,a.k,a.j,[u.s,[2,a.r]]),u.Ab(4608,c.o,c.o,[]),u.Ab(4608,r.a,r.a,[u.x,u.g]),u.Ab(4608,r.Cb,r.Cb,[r.a,u.j,u.p]),u.Ab(4608,r.Gb,r.Gb,[r.a,u.j,u.p]),u.Ab(1073742336,a.b,a.b,[]),u.Ab(1073742336,c.n,c.n,[]),u.Ab(1073742336,c.g,c.g,[]),u.Ab(1073742336,r.zb,r.zb,[]),u.Ab(1073742336,A.n,A.n,[[2,A.s],[2,A.m]]),u.Ab(1073742336,S,S,[]),u.Ab(1073742336,e,e,[]),u.Ab(1024,A.k,(function(){return[[{path:"",component:D}]]}),[])])}))}}]);