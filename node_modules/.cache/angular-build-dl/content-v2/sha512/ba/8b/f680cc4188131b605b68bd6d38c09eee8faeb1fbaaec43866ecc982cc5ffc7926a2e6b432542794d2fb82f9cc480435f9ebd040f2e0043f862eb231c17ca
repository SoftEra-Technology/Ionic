function _defineProperties(l,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function _createClass(l,n,t){return n&&_defineProperties(l.prototype,n),t&&_defineProperties(l,t),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"8wZ6":function(l,n,t){"use strict";t.r(n);var e=t("8Y7J"),u=function l(){_classCallCheck(this,l)},o=t("pMnS"),E=t("MKJQ"),T=t("sZkV"),i=t("SVse"),c=t("6GXZ"),r=t("9mtz"),a=t("kwUn"),s=t("b6o4"),D=function(){function l(n,t,e,u,o){var E=this;_classCallCheck(this,l),this.platform=n,this.sqlite=t,this.userService=e,this.router=u,this.screenOrientation=o,this.database_name="AUDIT_DB.db",this.store=new r.a,this.platform.ready().then((function(){E.createDB(),E.setLandscape()})).catch((function(l){console.log(l)}))}return _createClass(l,[{key:"setLandscape",value:function(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE)}},{key:"createDB",value:function(){var l=this;console.log("database created"),this.sqlite.create({name:this.database_name,location:"default"}).then((function(n){l.databaseObj=n,l.getRows()})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"getRows",value:function(){var l=this;this.databaseObj.executeSql("SELECT * FROM USER_TB",[]).then((function(n){if(l.row_data=[],n.rows.length>0){for(var t=0;t<n.rows.length;t++)l.row_data.push(n.rows.item(t)),console.log(l.row_data[t].EMP_ID.toString());l.fetchAttemptedOpenAuditByUser(l.row_data[0].EMP_ID.toString())}})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"fetchAttemptedOpenAuditByUser",value:function(l){var n=this;this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,AUDIT_NAME,STR_CODE,STR_NAME,USER_ID,STR_MANAGER,AUDIT_DT,AUDIT_STATUS,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID) AS TOTALQUESTION,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID AND QUESTION_STATUS<>'Open') AS ATTEMPTQUESTION,(SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND IS_INCLUDED='Yes') AS AUDIT_POINTS,IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND QUESTION_STATUS<>'Open'),0) MARKS_SCORED,UNIQUE_ID FROM AUDIT_ATTEMPTED_TB t WHERE USER_ID='"+l+"' AND AUDIT_STATUS='Open'",[]).then((function(l){if(n.AttemptedOpenAuditByUser=[],console.log(l),l.rows.length>0){for(var t=0;t<l.rows.length;t++)n.AttemptedOpenAuditByUser.push(l.rows.item(t));return n.AttemptedOpenAuditByUser}})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"GoToDashboard",value:function(){this.router.navigate(["dash-board"])}},{key:"ngOnInit",value:function(){}},{key:"deletAttemptedAuditById",value:function(l){this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_TB WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_RECIVING_QUESTIONS WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_OPTION WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_RANGE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_VALUE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_CHOICE WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_IMAGES_TB WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD_PREDEFINED WHERE ATTEMPTED_ID="+l,[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_TB",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_SECTION",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_RANGE",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_VALUE",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_CHOICE",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD_PREDEFINED",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))})),this.databaseObj.executeSql("DELETE FROM QUESTION_STANDARD_PREDEFINED_TB",[]).then((function(l){console.log(l)})).catch((function(l){alert("error "+JSON.stringify(l))}))}}]),l}(),A=t("iInd"),b=e.ob({encapsulation:0,styles:[[""]],data:{}});function _(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),e.qb(2,0,null,null,12,"ion-item",[],null,null,null,E.D,E.j)),e.pb(3,49152,null,0,T.E,[e.h,e.k,e.x],null,null),(l()(),e.qb(4,0,null,0,0,"img",[["height","25"],["src","../../assets/red_lock_48.png"],["width","25"]],null,null,null,null,null)),(l()(),e.Gb(5,0,[" Audit: "," \xa0\xa0"," "])),(l()(),e.qb(6,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),e.Gb(7,0,[" Audit Performed On: "," Total Marks "," Marks Scored "," "])),(l()(),e.qb(8,0,null,0,4,"ion-note",[["color","tertiary"],["slot","end"]],null,null,null,E.G,E.m)),e.pb(9,49152,null,0,T.S,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.qb(10,0,null,0,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.deletAttemptedAuditById(l.context.$implicit.ATTEMPTED_ID)&&e),e}),E.v,E.b)),e.pb(11,49152,null,0,T.h,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.Gb(-1,0,["Delete"])),(l()(),e.qb(13,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),e.qb(14,0,null,0,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,9,0,"tertiary"),l(n,11,0,"medium")}),(function(l,n){l(n,5,0,n.context.$implicit.AUDIT_NAME,n.context.$implicit.STR_NAME),l(n,7,0,n.context.$implicit.AUDIT_DT,n.context.$implicit.AUDIT_POINTS,n.context.$implicit.MARKS_SCORED)}))}function S(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,13,"ion-header",[],null,null,null,E.B,E.h)),e.pb(1,49152,null,0,T.y,[e.h,e.k,e.x],null,null),(l()(),e.qb(2,0,null,0,11,"div",[["style","background-color: black; align-content: center;"]],null,null,null,null,null)),(l()(),e.qb(3,0,null,null,10,"table",[["style","margin-left: 10px; margin-top: 5px; margin-bottom: 2px;"]],null,null,null,null,null)),(l()(),e.qb(4,0,null,null,9,"tbody",[],null,null,null,null,null)),(l()(),e.qb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),e.qb(6,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.qb(7,0,null,null,1,"span",[["style","margin-top:20px; margin-left: 5px; margin-top: 1px;"]],null,null,null,null,null)),(l()(),e.qb(8,0,null,null,0,"img",[["height","35"],["src","../../assets/tablez.png"],["width","35"]],null,null,null,null,null)),(l()(),e.qb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Gb(-1,null,["\xa0"])),(l()(),e.qb(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.qb(12,0,null,null,1,"span",[["style","color: white; margin-top: 1px;"]],null,null,null,null,null)),(l()(),e.Gb(-1,null,["Close Audit"])),(l()(),e.qb(14,0,null,null,3,"ion-content",[],null,null,null,E.x,E.d)),e.pb(15,49152,null,0,T.r,[e.h,e.k,e.x],null,null),(l()(),e.fb(16777216,null,0,1,null,_)),e.pb(17,278528,null,0,i.h,[e.L,e.I,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.qb(18,0,null,null,17,"ion-footer",[["class","ion-no-border"]],null,null,null,E.z,E.f)),e.pb(19,49152,null,0,T.w,[e.h,e.k,e.x],null,null),(l()(),e.qb(20,0,null,0,15,"ion-grid",[],null,null,null,E.A,E.g)),e.pb(21,49152,null,0,T.x,[e.h,e.k,e.x],null,null),(l()(),e.qb(22,0,null,0,13,"ion-row",[],null,null,null,E.J,E.p)),e.pb(23,49152,null,0,T.db,[e.h,e.k,e.x],null,null),(l()(),e.qb(24,0,null,0,5,"ion-col",[],null,null,null,E.w,E.c)),e.pb(25,49152,null,0,T.q,[e.h,e.k,e.x],null,null),(l()(),e.qb(26,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),e.qb(27,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.GoToDashboard()&&e),e}),E.v,E.b)),e.pb(28,49152,null,0,T.h,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.Gb(-1,0,["Exit"])),(l()(),e.qb(30,0,null,0,2,"ion-col",[],null,null,null,E.w,E.c)),e.pb(31,49152,null,0,T.q,[e.h,e.k,e.x],null,null),(l()(),e.qb(32,0,null,0,0,"div",[],null,null,null,null,null)),(l()(),e.qb(33,0,null,0,2,"ion-col",[],null,null,null,E.w,E.c)),e.pb(34,49152,null,0,T.q,[e.h,e.k,e.x],null,null),(l()(),e.qb(35,0,null,0,0,"div",[],null,null,null,null,null))],(function(l,n){l(n,17,0,n.component.AttemptedOpenAuditByUser),l(n,28,0,"medium")}),null)}var O=e.mb("app-close-audit",D,(function(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,1,"app-close-audit",[],null,null,null,S,b)),e.pb(1,114688,null,0,D,[T.Db,c.a,a.a,A.m,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),h=t("s7LF"),f=function l(){_classCallCheck(this,l)};t.d(n,"CloseAuditPageModuleNgFactory",(function(){return I}));var I=e.nb(u,[],(function(l){return e.zb([e.Ab(512,e.j,e.Y,[[8,[o.a,O]],[3,e.j],e.v]),e.Ab(4608,i.k,i.j,[e.s,[2,i.q]]),e.Ab(4608,h.o,h.o,[]),e.Ab(4608,T.a,T.a,[e.x,e.g]),e.Ab(4608,T.Ab,T.Ab,[T.a,e.j,e.p]),e.Ab(4608,T.Eb,T.Eb,[T.a,e.j,e.p]),e.Ab(1073742336,i.b,i.b,[]),e.Ab(1073742336,h.n,h.n,[]),e.Ab(1073742336,h.g,h.g,[]),e.Ab(1073742336,T.yb,T.yb,[]),e.Ab(1073742336,A.n,A.n,[[2,A.s],[2,A.m]]),e.Ab(1073742336,f,f,[]),e.Ab(1073742336,u,u,[]),e.Ab(1024,A.k,(function(){return[[{path:"",component:D}]]}),[])])}))}}]);