(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"8wZ6":function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{}var i=t("MKJQ"),o=t("sZkV"),s=t("s7LF");class a{}class r{constructor(l,n){this.navParams=l,this.modalController=n,this.UMobject=new a,this.comment_um=this.navParams.get("comment"),this.UMId=this.navParams.get("UMId"),this.PASS=this.navParams.get("PASS")}ngOnInit(){}save_Comment(){this.dismiss()}close_Comment(){this.dismiss()}dismiss(){let l=new a;l.UMId=this.UMId,l.UMPASS=this.PASS,l.UComment=this.comment_um,this.modalController.dismiss(l)}}var d=e.ob({encapsulation:0,styles:[[""]],data:{}});function c(l){return e.Jb(0,[(l()(),e.qb(0,0,null,null,40,"ion-content",[],null,null,null,i.z,i.e)),e.pb(1,49152,null,0,o.s,[e.h,e.k,e.x],null,null),(l()(),e.qb(2,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),e.qb(3,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),e.qb(4,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),e.qb(5,0,null,0,18,"div",[["style","margin-left:35px; margin-right: 35px;"]],null,null,null,null,null)),(l()(),e.qb(6,0,null,null,7,"div",[["style","border: 1px solid black;"]],null,null,null,null,null)),(l()(),e.qb(7,0,null,null,6,"ion-input",[["placeholder","Unit Manager Id"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0,i=l.component;return"ionBlur"===n&&(u=!1!==e.Cb(l,8)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e.Cb(l,8)._handleInputEvent(t.target)&&u),"ngModelChange"===n&&(u=!1!==(i.UMId=t)&&u),u}),i.E,i.j)),e.pb(8,16384,null,0,o.Jb,[e.k],null,null),e.Eb(1024,null,s.h,(function(l){return[l]}),[o.Jb]),e.pb(10,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.h]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,s.i,null,[s.l]),e.pb(12,16384,null,0,s.j,[[4,s.i]],null,null),e.pb(13,49152,null,0,o.E,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.qb(14,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.qb(15,0,null,null,7,"div",[["style","border: 1px solid black;"]],null,null,null,null,null)),(l()(),e.qb(16,0,null,null,6,"ion-input",[["placeholder","Password"],["type","Password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0,i=l.component;return"ionBlur"===n&&(u=!1!==e.Cb(l,17)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e.Cb(l,17)._handleInputEvent(t.target)&&u),"ngModelChange"===n&&(u=!1!==(i.PASS=t)&&u),u}),i.E,i.j)),e.pb(17,16384,null,0,o.Jb,[e.k],null,null),e.Eb(1024,null,s.h,(function(l){return[l]}),[o.Jb]),e.pb(19,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.h]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,s.i,null,[s.l]),e.pb(21,16384,null,0,s.j,[[4,s.i]],null,null),e.pb(22,49152,null,0,o.E,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.qb(23,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.qb(24,0,null,0,1,"div",[["style","margin-left: 8px; margin-right: 8px;"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Comment"])),(l()(),e.qb(26,0,null,0,7,"div",[["style","border-style: double; margin-left: 8px; margin-right: 8px;"]],null,null,null,null,null)),(l()(),e.qb(27,0,null,null,6,"ion-textarea",[["cols","25"],["rows","6"],["style","background-color: whitesmoke;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0,i=l.component;return"ionBlur"===n&&(u=!1!==e.Cb(l,28)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e.Cb(l,28)._handleInputEvent(t.target)&&u),"ngModelChange"===n&&(u=!1!==(i.comment_um=t)&&u),u}),i.P,i.u)),e.pb(28,16384,null,0,o.Jb,[e.k],null,null),e.Eb(1024,null,s.h,(function(l){return[l]}),[o.Jb]),e.pb(30,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.h]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,s.i,null,[s.l]),e.pb(32,16384,null,0,s.j,[[4,s.i]],null,null),e.pb(33,49152,null,0,o.tb,[e.h,e.k,e.x],{cols:[0,"cols"],rows:[1,"rows"]},null),(l()(),e.qb(34,0,null,0,6,"div",[["style","margin-left: 8px; margin-right: 8px;"]],null,null,null,null,null)),(l()(),e.qb(35,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.close_Comment()&&e),e}),i.w,i.b)),e.pb(36,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.Hb(-1,0,["Exit"])),(l()(),e.qb(38,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.save_Comment()&&e),e}),i.w,i.b)),e.pb(39,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.Hb(-1,0,["Push"]))],(function(l,n){var t=n.component;l(n,10,0,t.UMId),l(n,13,0,"Unit Manager Id","text"),l(n,19,0,t.PASS),l(n,22,0,"Password","Password"),l(n,30,0,t.comment_um),l(n,33,0,"25","6"),l(n,36,0,"medium"),l(n,39,0,"medium")}),(function(l,n){l(n,7,0,e.Cb(n,12).ngClassUntouched,e.Cb(n,12).ngClassTouched,e.Cb(n,12).ngClassPristine,e.Cb(n,12).ngClassDirty,e.Cb(n,12).ngClassValid,e.Cb(n,12).ngClassInvalid,e.Cb(n,12).ngClassPending),l(n,16,0,e.Cb(n,21).ngClassUntouched,e.Cb(n,21).ngClassTouched,e.Cb(n,21).ngClassPristine,e.Cb(n,21).ngClassDirty,e.Cb(n,21).ngClassValid,e.Cb(n,21).ngClassInvalid,e.Cb(n,21).ngClassPending),l(n,27,0,e.Cb(n,32).ngClassUntouched,e.Cb(n,32).ngClassTouched,e.Cb(n,32).ngClassPristine,e.Cb(n,32).ngClassDirty,e.Cb(n,32).ngClassValid,e.Cb(n,32).ngClassInvalid,e.Cb(n,32).ngClassPending)}))}function h(l){return e.Jb(0,[(l()(),e.qb(0,0,null,null,1,"app-unit-manager-login",[],null,null,null,c,d)),e.pb(1,114688,null,0,r,[o.Eb,o.Cb],null,null)],(function(l,n){l(n,1,0)}),null)}var A=e.mb("app-unit-manager-login",r,h,{},{},[]),E=t("4XKt"),T=t("pMnS"),b=t("SVse"),m=t("mrSG"),g=t("6GXZ"),_=t("9mtz"),p=t("kwUn"),I=t("Pn9U"),D=t("Hle8"),S=t("u9AK"),C=t("b6o4");class O{}class U{}class M{}const N=l=>new Promise(n=>setTimeout(n,l));class f{constructor(l,n,t,e,u,i,o,s){this.platform=l,this.sqlite=n,this.userService=t,this.router=e,this.camera=u,this.modalController=i,this.screenOrientation=o,this.ionLoader=s,this.database_name="AUDIT_DB.db",this.savedQuestions_array=[],this.ObjUM=new a,this.image="",this.Question_comment="",this.AttemptedClosedAuditByUser=[],this.AttemptedClosedAudit=[],this.AttemptedClosedAuditSection=[],this.AttemptedClosedAuditSectionQuestion=[],this.AttemptedClosedAuditSectionQuestionAnswer=[],this.unit_managerid="",this.unit_managerPass="",this.unit_managerComment="",this.filledChoices1=[],this.store=new _.a,this.platform.ready().then(()=>{this.createDB(),this.setLandscape()}).catch(l=>{console.log(l)})}showLoader(){this.ionLoader.showLoader(),setTimeout(()=>{this.hideLoader()},328e3)}hideLoader(){this.ionLoader.hideLoader(),window.location.reload()}openCam(){this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(l=>{this.imageData=l,this.image=window.Ionic.WebView.convertFileSrc(l)},l=>{console.log("error "+JSON.stringify(l))})}upload(){const l=(new Date).valueOf()+".jpeg",n=this.dataURItoBlob(this.imageData),t=new File([n],l,{type:"image/jpeg"});(new FormData).append("file",t)}dataURItoBlob(l){const n=window.atob(l),t=new ArrayBuffer(n.length),e=new Uint8Array(t);for(let u=0;u<n.length;u++)e[u]=n.charCodeAt(u);return new Blob([e],{type:"image/jpeg"})}Add_Comment(){return m.a(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:D.a,componentProps:{comment:this.Question_comment}});return l.onDidDismiss().then(l=>{console.log("data from model popup in close Audit"),console.log(l);const n=l.data;console.log(n),this.Question_comment=n}),yield l.present()}))}OenAudit_Page_setting(l,n,t){this.objecta="",this.objecta={AttemptedId:l,AuditId:n,Storeid:t}}GoToAuditList(){this.router.navigate(["/list-audit"],{queryParams:{value:JSON.stringify(this.objecta)}})}setLandscape(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE)}createDB(){console.log("database created"),this.sqlite.create({name:this.database_name,location:"default"}).then(l=>{this.databaseObj=l,this.getRows()}).catch(l=>{alert("error "+JSON.stringify(l))})}getRows(){this.databaseObj.executeSql("SELECT * FROM USER_TB",[]).then(l=>{if(this.row_data=[],l.rows.length>0){for(var n=0;n<l.rows.length;n++)this.row_data.push(l.rows.item(n)),console.log(this.row_data[n].EMP_ID.toString());this.fetchAttemptedOpenAuditByUser(this.row_data[0].EMP_ID.toString())}}).catch(l=>{alert("error "+JSON.stringify(l))})}fetchAttemptedOpenAuditByUser(l){this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,AUDIT_NAME,STR_CODE,STR_NAME,USER_ID,STR_MANAGER,AUDIT_DT,AUDIT_STATUS,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID) AS TOTALQUESTION,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID AND QUESTION_STATUS<>'Open') AS ATTEMPTQUESTION,(SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND IS_INCLUDED='Yes') AS AUDIT_POINTS,IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND QUESTION_STATUS<>'Open'),0) MARKS_SCORED,UNIQUE_ID FROM AUDIT_ATTEMPTED_TB t WHERE USER_ID='"+l+"' AND AUDIT_STATUS='Close'",[]).then(l=>{if(this.AttemptedOpenAuditByUser=[],console.log(l),l.rows.length>0){for(var n=0;n<l.rows.length;n++)this.AttemptedOpenAuditByUser.push(l.rows.item(n));return this.AttemptedOpenAuditByUser}}).catch(l=>{alert("error "+JSON.stringify(l))})}GoToDashboard(){this.router.navigate(["/dash-board"],{queryParams:{value:"refresh"}})}ngOnInit(){}PushAudit(){return m.a(this,void 0,void 0,(function*(){if(null==this.objecta)return alert("Please Select One Audit"),!1;{const l=yield this.modalController.create({component:r,componentProps:{comment:this.unit_managerComment,UMId:this.unit_managerid,PASS:this.unit_managerPass}});return l.onDidDismiss().then(l=>{console.log("data from model popup in close Audit for Unit Manager"),console.log(l);const n=l.data;console.log(n),this.ObjUM=n,this.unit_managerid=this.ObjUM.UMId,this.unit_managerPass=this.ObjUM.UMPASS,this.unit_managerComment=this.ObjUM.UComment,console.log(this.unit_managerid),""==this.unit_managerid||""==this.unit_managerPass?alert("Please Enter Unit Manager Id And PassWord"):this.PushAudit_server(this.unit_managerid,this.unit_managerPass,this.unit_managerComment)}),yield l.present()}}))}PushAudit_server(l,n,t){return m.a(this,void 0,void 0,(function*(){this.showLoader(),this.savedAudit=new O,this.databaseObj.executeSql("SELECT AUDIT_ID,AUDIT_NAME,STR_CODE,STR_NAME,USER_ID,STR_MANAGER,AUDIT_DT,UNIQUE_ID FROM AUDIT_ATTEMPTED_TB WHERE ATTEMPTED_ID="+this.objecta.AttemptedId+" AND AUDIT_ID="+this.objecta.AuditId,[]).then(t=>{if(this.AttemptedClosedAudit=[],t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedClosedAudit.push(t.rows.item(e));console.log("Audit"),this.savedAudit._auditId=Number(this.AttemptedClosedAudit[0].AUDIT_ID),this.savedAudit._strCode=String(this.AttemptedClosedAudit[0].STR_CODE),this.savedAudit._auditor=String(this.AttemptedClosedAudit[0].USER_ID),this.savedAudit._stroreManager=String(this.AttemptedClosedAudit[0].STR_MANAGER);let u=String(this.AttemptedClosedAudit[0].AUDIT_DT).slice(0,10).split("-");this.savedAudit._auditDt=u[2]+"/"+u[1]+"/"+u[0],this.savedAudit._uniqueId=String(this.AttemptedClosedAudit[0].UNIQUE_ID),this.savedAudit._isValid="yes",this.savedAudit._status="Closed",this.savedAudit._umId=l,this.savedAudit._umPwd=n,this.savedAudit._auditeeComment="Auditee Comment",this.savedAudit._auditorComment="Auditror Comment",this.savedAudit._auditFindings="Audit Findings",this.GetClosedSection(),console.log(this.savedAudit)}}).catch(l=>{console.log("error "+JSON.stringify(l))})}))}GetClosedSection(){let l=this.objecta.AttemptedId,n=this.objecta.AuditId;this.databaseObj.executeSql("SELECT SECTION_ID, SECTION_NAME, SECTION_ORDER FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+l+" AND AUDIT_ID="+n,[]).then(t=>m.a(this,void 0,void 0,(function*(){if(this.AttemptedClosedAuditSection=[],t.rows.length>0){for(var e=0;e<t.rows.length;e++)this.AttemptedClosedAuditSection.push(t.rows.item(e));for(console.log("Audit section"),this.savedQuestions_array=[],e=0;e<this.AttemptedClosedAuditSection.length;e++)yield this.GetClosedSeectionQuestion(Number(l),Number(n),Number(this.AttemptedClosedAuditSection[e].SECTION_ID),String(this.AttemptedClosedAuditSection[e].SECTION_NAME),Number(this.AttemptedClosedAuditSection[e].SECTION_ORDER));for(this.savedAudit._lstQuestion=this.savedQuestions_array,e=0;e<this.savedAudit._lstQuestion.length;e++)yield this.GetClosedSeectionQuestionAnswer(Number(l),Number(n),Number(this.savedAudit._lstQuestion[e]._questionId)),this.savedAudit._lstQuestion[e]._lstChoice=this.filledChoices1;console.log("object of audit aaaaaaaaaaa"),console.log(JSON.stringify(this.savedAudit)),console.log(this.savedAudit),this.userService.Post_Close_Audit(this.savedAudit).subscribe(n=>{1==n.StatusFl?(alert("Audit Uploded"),this.deletAttemptedAuditById(Number(l)),this.ionLoader.hideLoader(),window.location.reload()):(alert(n.Msg),this.ionLoader.hideLoader())})}}))).catch(l=>{console.log("error "+JSON.stringify(l))})}GetClosedSeectionQuestion(l,n,t,e,u){return m.a(this,void 0,void 0,(function*(){return this.databaseObj.executeSql("SELECT QUESTION_ID,QUESTION_NAME,QUESTION_ORDER,QUESTION_TYPE_ID,QUESTION_TYPE,QUESTION_COMMENT,IMAGE_NAME FROM AUDIT_ATTEMPTED_QUESTIONS  WHERE  ATTEMPTED_ID="+l+" AND AUDIT_ID="+n+" AND SECTION_ID="+t,[]).then(l=>m.a(this,void 0,void 0,(function*(){if(this.AttemptedClosedAuditSectionQuestion=[],l.rows.length>0){for(var n=0;n<l.rows.length;n++)this.AttemptedClosedAuditSectionQuestion.push(l.rows.item(n));for(console.log("Question"),n=0;n<this.AttemptedClosedAuditSectionQuestion.length;n++){var i=new U;i._sectionId=t,i._sectionNm=e,i._sectionOrder=u,i._questionId=Number(this.AttemptedClosedAuditSectionQuestion[n].QUESTION_ID),i._questionNm=this.AttemptedClosedAuditSectionQuestion[n].QUESTION_NAME,i._questionOrder=Number(this.AttemptedClosedAuditSectionQuestion[n].QUESTION_ORDER),i._questionTypeId=Number(this.AttemptedClosedAuditSectionQuestion[n].QUESTION_TYPE_ID),i._questionType=this.AttemptedClosedAuditSectionQuestion[n].QUESTION_TYPE,i._imgString=this.AttemptedClosedAuditSectionQuestion[n].QUESTION_COMMENT,i._attachedImage=this.AttemptedClosedAuditSectionQuestion[n].IMAGE_NAME,i._questionAns="aks",this.savedQuestions_array.push(i),console.log("Question Answer obj"),console.log(this.savedQuestions_array)}}}))).catch(l=>{console.log("error "+JSON.stringify(l))}),yield N(5e3),console.log("done!"),10}))}GetClosedSeectionQuestionAnswer(l,n,t){return m.a(this,void 0,void 0,(function*(){return this.databaseObj.executeSql("SELECT A.ATTEMPTED_ID,A.AUDIT_ID,A.SECTION_ID,A.QUESTION_ID,A.CHOICE_ID,A.CHOICE_TEXT,A.POINTS,A.COMMENTS,A.CHOICE_VALUE,B.IMAGE_NAME FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE A INNER JOIN AUDIT_ATTEMPTED_QUESTIONS B ON A.ATTEMPTED_ID=B.ATTEMPTED_ID AND A.AUDIT_ID=B.AUDIT_ID AND A.SECTION_ID=B.SECTION_ID AND A.QUESTION_ID=B.QUESTION_ID WHERE A.ATTEMPTED_ID="+l+" AND A.AUDIT_ID="+n+" AND A.QUESTION_ID="+t,[]).then(l=>{if(this.AttemptedClosedAuditSectionQuestionAnswer=[],console.log(l),l.rows.length>0){for(var n=0;n<l.rows.length;n++)this.AttemptedClosedAuditSectionQuestionAnswer.push(l.rows.item(n));for(console.log("Question Answer"),console.log(this.AttemptedClosedAuditSectionQuestionAnswer),this.filledChoices1=[],n=0;n<this.AttemptedClosedAuditSectionQuestionAnswer.length;n++){var t=new M;t.Choice=this.AttemptedClosedAuditSectionQuestionAnswer[n].CHOICE_TEXT,t.ChoiceId=Number(this.AttemptedClosedAuditSectionQuestionAnswer[n].CHOICE_ID),t.Marks=Number(this.AttemptedClosedAuditSectionQuestionAnswer[n].POINTS),t.Comments="Akshay",t.Value=this.AttemptedClosedAuditSectionQuestionAnswer[n].CHOICE_VALUE,this.filledChoices1.push(t)}}}).catch(l=>{console.log("error "+JSON.stringify(l))}),console.log("this might take some time...."),yield N(5e3),console.log("done!"),10}))}deletAttemptedAuditById(l){return m.a(this,void 0,void 0,(function*(){return this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_TB WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_SECTION WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_RECIVING_QUESTIONS WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_CHOICE WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_OPTION WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_RANGE WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_VALUE WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTION_FIELD_CHOICE WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_IMAGES_TB WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),this.databaseObj.executeSql("DELETE FROM AUDIT_ATTEMPTED_QUESTIONS_STANDATD_PREDEFINED WHERE ATTEMPTED_ID="+l,[]).then(l=>{console.log(l)}).catch(l=>{alert("error "+JSON.stringify(l))}),yield N(5e3),console.log("done!"),10}))}}var P=t("iInd"),v=e.ob({encapsulation:0,styles:[[""]],data:{}});function y(l){return e.Jb(0,[(l()(),e.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,0,"img",[["height","40"],["src","../../assets/red_lock_48.png"],["width","50"]],null,null,null,null,null))],null,null)}function q(l){return e.Jb(0,[(l()(),e.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,0,"img",[["height","40"],["src","../../assets/refresh1.jpg"],["width","50"]],null,null,null,null,null))],null,null)}function w(l){return e.Jb(0,[(l()(),e.qb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,24,"ion-item",[],null,null,null,i.F,i.k)),e.pb(2,49152,null,0,o.F,[e.h,e.k,e.x],null,null),(l()(),e.qb(3,0,null,0,14,"table",[],null,null,null,null,null)),(l()(),e.qb(4,0,null,null,13,"tbody",[],null,null,null,null,null)),(l()(),e.qb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),e.qb(6,0,null,null,4,"td",[["align","center"],["rowspan","2"],["width","5%"]],null,null,null,null,null)),(l()(),e.fb(16777216,null,null,1,null,y)),e.pb(8,16384,null,0,b.i,[e.L,e.I],{ngIf:[0,"ngIf"]},null),(l()(),e.fb(16777216,null,null,1,null,q)),e.pb(10,16384,null,0,b.i,[e.L,e.I],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(11,0,null,null,2,"td",[["align","left"],["style","font-size:x-large;"],["width","90%"]],null,null,null,null,null)),(l()(),e.qb(12,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Hb(13,null,[" Audit: "," ",""])),(l()(),e.qb(14,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),e.qb(15,0,null,null,2,"td",[["align","left"]],null,null,null,null,null)),(l()(),e.Hb(16,null,[" \xa0\xa0Audit Performed On: "," Total Marks: "," Marks Scored: "," "])),e.Db(0,b.n,[]),(l()(),e.qb(18,0,null,0,7,"ion-note",[["color","tertiary"],["slot","end"]],null,null,null,i.I,i.n)),e.pb(19,49152,null,0,o.T,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.qb(20,0,null,0,5,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.OenAudit_Page_setting(l.context.$implicit.ATTEMPTED_ID,l.context.$implicit.AUDIT_ID,l.context.$implicit.STR_CODE)&&e),e}),i.w,i.b)),e.pb(21,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.qb(22,0,null,0,3,"ion-checkbox",[["color","dark"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0;return"ionBlur"===n&&(u=!1!==e.Cb(l,25)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e.Cb(l,25)._handleIonChange(t.target)&&u),u}),i.x,i.c)),e.Eb(5120,null,s.h,(function(l){return[l]}),[o.b]),e.pb(24,49152,null,0,o.p,[e.h,e.k,e.x],{color:[0,"color"]},null),e.pb(25,16384,null,0,o.b,[e.k],null,null)],(function(l,n){l(n,8,0,0===n.context.$implicit.MARKS_SCORED),l(n,10,0,n.context.$implicit.MARKS_SCORED>0),l(n,19,0,"tertiary"),l(n,21,0,"medium"),l(n,24,0,"dark")}),(function(l,n){l(n,13,0,n.context.$implicit.AUDIT_NAME,n.context.$implicit.STR_NAME),l(n,16,0,e.Ib(n,16,0,e.Cb(n,17).transform(n.context.$implicit.AUDIT_DT,0,10)),n.context.$implicit.AUDIT_POINTS,n.context.$implicit.MARKS_SCORED)}))}function x(l){return e.Jb(0,[(l()(),e.qb(0,0,null,null,13,"ion-header",[],null,null,null,i.D,i.i)),e.pb(1,49152,null,0,o.z,[e.h,e.k,e.x],null,null),(l()(),e.qb(2,0,null,0,11,"div",[["style","background-color: black; align-content: center;"]],null,null,null,null,null)),(l()(),e.qb(3,0,null,null,10,"table",[["style","margin-left: 10px; margin-top: 5px; margin-bottom: 2px;"]],null,null,null,null,null)),(l()(),e.qb(4,0,null,null,9,"tbody",[],null,null,null,null,null)),(l()(),e.qb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),e.qb(6,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.qb(7,0,null,null,1,"span",[["style","margin-top:20px; margin-left: 5px; margin-top: 1px;"]],null,null,null,null,null)),(l()(),e.qb(8,0,null,null,0,"img",[["height","35"],["src","../../assets/tablez.png"],["width","35"]],null,null,null,null,null)),(l()(),e.qb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["\xa0"])),(l()(),e.qb(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.qb(12,0,null,null,1,"span",[["style","color: white; margin-top: 1px;"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Compleated Audit"])),(l()(),e.qb(14,0,null,null,3,"ion-content",[],null,null,null,i.z,i.e)),e.pb(15,49152,null,0,o.s,[e.h,e.k,e.x],null,null),(l()(),e.fb(16777216,null,0,1,null,w)),e.pb(17,278528,null,0,b.h,[e.L,e.I,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.qb(18,0,null,null,35,"ion-footer",[["class","ion-no-border"]],null,null,null,i.B,i.g)),e.pb(19,49152,null,0,o.x,[e.h,e.k,e.x],null,null),(l()(),e.qb(20,0,null,0,33,"ion-grid",[],null,null,null,i.C,i.h)),e.pb(21,49152,null,0,o.y,[e.h,e.k,e.x],null,null),(l()(),e.qb(22,0,null,0,31,"ion-row",[],null,null,null,i.L,i.q)),e.pb(23,49152,null,0,o.eb,[e.h,e.k,e.x],null,null),(l()(),e.qb(24,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),e.pb(25,49152,null,0,o.r,[e.h,e.k,e.x],null,null),(l()(),e.qb(26,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),e.qb(27,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.Add_Comment()&&e),e}),i.w,i.b)),e.pb(28,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),e.Hb(-1,0,["Audit Findings"])),(l()(),e.qb(30,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),e.pb(31,49152,null,0,o.r,[e.h,e.k,e.x],null,null),(l()(),e.qb(32,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),e.qb(33,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openCam()&&e),e}),i.w,i.b)),e.pb(34,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),e.Hb(-1,0,["Attach Image"])),(l()(),e.qb(36,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),e.pb(37,49152,null,0,o.r,[e.h,e.k,e.x],null,null),(l()(),e.qb(38,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),e.qb(39,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.PushAudit()&&e),e}),i.w,i.b)),e.pb(40,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),e.Hb(-1,0,["Push"])),(l()(),e.qb(42,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),e.pb(43,49152,null,0,o.r,[e.h,e.k,e.x],null,null),(l()(),e.qb(44,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),e.qb(45,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.GoToAuditList()&&e),e}),i.w,i.b)),e.pb(46,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),e.Hb(-1,0,["Open"])),(l()(),e.qb(48,0,null,0,5,"ion-col",[],null,null,null,i.y,i.d)),e.pb(49,49152,null,0,o.r,[e.h,e.k,e.x],null,null),(l()(),e.qb(50,0,null,0,3,"div",[],null,null,null,null,null)),(l()(),e.qb(51,0,null,null,2,"ion-button",[["color","medium"],["expand","full"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.GoToDashboard()&&e),e}),i.w,i.b)),e.pb(52,49152,null,0,o.i,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),e.Hb(-1,0,["Exit"]))],(function(l,n){l(n,17,0,n.component.AttemptedOpenAuditByUser),l(n,28,0,"medium","full"),l(n,34,0,"medium","full"),l(n,40,0,"medium","full"),l(n,46,0,"medium","full"),l(n,52,0,"medium","full")}),null)}function R(l){return e.Jb(0,[(l()(),e.qb(0,0,null,null,1,"app-close-audit",[],null,null,null,x,v)),e.pb(1,114688,null,0,f,[o.Fb,g.a,p.a,P.m,I.a,o.Cb,C.a,S.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Q=e.mb("app-close-audit",f,R,{},{},[]);class k{}var L=t("zjAK");class j{}t.d(n,"CloseAuditPageModuleNgFactory",(function(){return H}));var H=e.nb(u,[],(function(l){return e.zb([e.Ab(512,e.j,e.Y,[[8,[A,E.a,T.a,Q]],[3,e.j],e.v]),e.Ab(4608,b.k,b.j,[e.s,[2,b.r]]),e.Ab(4608,s.o,s.o,[]),e.Ab(4608,o.a,o.a,[e.x,e.g]),e.Ab(4608,o.Cb,o.Cb,[o.a,e.j,e.p]),e.Ab(4608,o.Gb,o.Gb,[o.a,e.j,e.p]),e.Ab(1073742336,b.b,b.b,[]),e.Ab(1073742336,s.n,s.n,[]),e.Ab(1073742336,s.g,s.g,[]),e.Ab(1073742336,o.zb,o.zb,[]),e.Ab(1073742336,k,k,[]),e.Ab(1073742336,L.a,L.a,[]),e.Ab(1073742336,P.n,P.n,[[2,P.s],[2,P.m]]),e.Ab(1073742336,j,j,[]),e.Ab(1073742336,u,u,[]),e.Ab(1024,P.k,(function(){return[[{path:"",component:f}]]}),[])])}))}}]);