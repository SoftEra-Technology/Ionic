function _defineProperties(l,n){for(var u=0;u<n.length;u++){var t=n[u];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function _createClass(l,n,u){return n&&_defineProperties(l.prototype,n),u&&_defineProperties(l,u),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"RV+b":function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),e=function l(){_classCallCheck(this,l)},i=u("pMnS"),o=u("MKJQ"),a=u("sZkV"),r=u("SVse"),c=u("6GXZ"),b=u("9mtz"),T=u("kwUn"),s=function(){function l(n,u,t,e){var i=this;_classCallCheck(this,l),this.platform=n,this.sqlite=u,this.userService=t,this.router=e,this.database_name="AUDIT_DB.db",this.store=new b.a,this.platform.ready().then((function(){i.createDB()})).catch((function(l){console.log(l)}))}return _createClass(l,[{key:"createDB",value:function(){var l=this;console.log("database created"),this.sqlite.create({name:this.database_name,location:"default"}).then((function(n){l.databaseObj=n,l.getRows()})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"getRows",value:function(){var l=this;this.databaseObj.executeSql("SELECT * FROM USER_TB",[]).then((function(n){if(l.row_data=[],n.rows.length>0){for(var u=0;u<n.rows.length;u++)l.row_data.push(n.rows.item(u)),console.log(l.row_data[u].EMP_ID.toString());l.fetchAttemptedOpenAuditByUser(l.row_data[0].EMP_ID.toString())}})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"fetchAttemptedOpenAuditByUser",value:function(l){var n=this;this.databaseObj.executeSql("SELECT ATTEMPTED_ID,AUDIT_ID,AUDIT_NAME,STR_CODE,STR_NAME,USER_ID,STR_MANAGER,AUDIT_DT,AUDIT_STATUS,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID) AS TOTALQUESTION,(SELECT COUNT(*) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND AUDIT_ID=t.AUDIT_ID AND QUESTION_STATUS<>'Open') AS ATTEMPTQUESTION,(SELECT SUM(QUESTION_MARKS) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND IS_INCLUDED='Yes') AS AUDIT_POINTS,IFNULL((SELECT SUM(MARKS_SCORED) FROM AUDIT_ATTEMPTED_QUESTIONS WHERE ATTEMPTED_ID=t.ATTEMPTED_ID AND QUESTION_STATUS<>'Open'),0) MARKS_SCORED,UNIQUE_ID FROM AUDIT_ATTEMPTED_TB t WHERE USER_ID='"+l+"' AND AUDIT_STATUS='Open'",[]).then((function(l){if(n.AttemptedOpenAuditByUser=[],console.log(l),l.rows.length>0){for(var u=0;u<l.rows.length;u++)n.AttemptedOpenAuditByUser.push(l.rows.item(u));return n.AttemptedOpenAuditByUser}})).catch((function(l){alert("error "+JSON.stringify(l))}))}},{key:"GoToDashboard",value:function(){this.router.navigate(["dash-board"])}},{key:"ngOnInit",value:function(){}},{key:"OenAudit_Page",value:function(l,n,u){this.router.navigate(["/list-audit"],{queryParams:{value:JSON.stringify({AttemptedId:l,AuditId:n,Storeid:u})}})}}]),l}(),A=u("iInd"),d=t.ob({encapsulation:0,styles:[[""]],data:{}});function E(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,34,"div",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,33,"div",[],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,32,"ion-item",[],null,null,null,o.C,o.j)),t.pb(3,49152,null,0,a.E,[t.h,t.k,t.x],null,null),(l()(),t.qb(4,0,null,0,30,"table",[],null,null,null,null,null)),(l()(),t.qb(5,0,null,null,29,"tbody",[],null,null,null,null,null)),(l()(),t.qb(6,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,0,"img",[["height","25"],["src","../../assets/red_lock_48.png"],["width","25"]],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Gb(10,null,[" Audit: ",""])),(l()(),t.qb(11,0,null,null,3,"td",[["align","right"]],null,null,null,null,null)),(l()(),t.qb(12,0,null,null,2,"ion-button",[["color","medium"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.OenAudit_Page(l.context.$implicit.ATTEMPTED_ID,l.context.$implicit.AUDIT_ID,l.context.$implicit.STR_CODE)&&t),t}),o.u,o.b)),t.pb(13,49152,null,0,a.h,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Gb(-1,0,["Open"])),(l()(),t.qb(15,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.qb(16,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.qb(17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Gb(18,null,[""," "])),(l()(),t.qb(19,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.qb(20,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.qb(21,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.qb(22,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Gb(23,null,["Audit Performed On: "," "])),(l()(),t.qb(24,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.qb(25,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.qb(26,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.qb(27,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Gb(28,null,["Total Marks "," "])),(l()(),t.qb(29,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.qb(30,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.qb(31,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.qb(32,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Gb(33,null,["Marks Scored "," "])),(l()(),t.qb(34,0,null,null,0,"td",[],null,null,null,null,null))],(function(l,n){l(n,13,0,"medium")}),(function(l,n){l(n,10,0,n.context.$implicit.AUDIT_NAME),l(n,18,0,n.context.$implicit.STR_NAME),l(n,23,0,n.context.$implicit.AUDIT_DT),l(n,28,0,n.context.$implicit.AUDIT_POINTS),l(n,33,0,n.context.$implicit.MARKS_SCORED)}))}function p(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,13,"ion-header",[],null,null,null,o.A,o.h)),t.pb(1,49152,null,0,a.y,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,11,"div",[["style","background-color: black; align-content: center;"]],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,10,"table",[["style","margin-left: 10px; margin-top: 5px; margin-bottom: 2px;"]],null,null,null,null,null)),(l()(),t.qb(4,0,null,null,9,"tbody",[],null,null,null,null,null)),(l()(),t.qb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.qb(6,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,1,"span",[["style","margin-top:20px; margin-left: 5px; margin-top: 1px;"]],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,0,"img",[["height","35"],["src","../../assets/tablez.png"],["width","35"]],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Gb(-1,null,["\xa0"])),(l()(),t.qb(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.qb(12,0,null,null,1,"span",[["style","color: white; margin-top: 1px;"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,["Open Audit"])),(l()(),t.qb(14,0,null,null,5,"ion-content",[],null,null,null,o.w,o.d)),t.pb(15,49152,null,0,a.r,[t.h,t.k,t.x],null,null),(l()(),t.fb(16777216,null,0,1,null,E)),t.pb(17,278528,null,0,r.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.qb(18,0,null,0,1,"div",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.GoToDashboard()&&t),t}),null,null)),(l()(),t.Gb(-1,null,["Back To DashBoard"]))],(function(l,n){l(n,17,0,n.component.AttemptedOpenAuditByUser)}),null)}var D=t.mb("app-open-audit",s,(function(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,1,"app-open-audit",[],null,null,null,p,d)),t.pb(1,114688,null,0,s,[a.Db,c.a,T.a,A.m],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),_=u("s7LF"),h=function l(){_classCallCheck(this,l)};u.d(n,"OpenAuditPageModuleNgFactory",(function(){return S}));var S=t.nb(e,[],(function(l){return t.zb([t.Ab(512,t.j,t.Y,[[8,[i.a,D]],[3,t.j],t.v]),t.Ab(4608,r.k,r.j,[t.s,[2,r.q]]),t.Ab(4608,_.n,_.n,[]),t.Ab(4608,a.a,a.a,[t.x,t.g]),t.Ab(4608,a.Ab,a.Ab,[a.a,t.j,t.p]),t.Ab(4608,a.Eb,a.Eb,[a.a,t.j,t.p]),t.Ab(1073742336,r.b,r.b,[]),t.Ab(1073742336,_.m,_.m,[]),t.Ab(1073742336,_.g,_.g,[]),t.Ab(1073742336,a.yb,a.yb,[]),t.Ab(1073742336,A.n,A.n,[[2,A.s],[2,A.m]]),t.Ab(1073742336,h,h,[]),t.Ab(1073742336,e,e,[]),t.Ab(1024,A.k,(function(){return[[{path:"",component:s}]]}),[])])}))}}]);