{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{L6id:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\");class HomePageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),ionic_angular_ngfactory=__webpack_require__(\"MKJQ\"),ionic_angular=__webpack_require__(\"sZkV\"),fesm2015_forms=__webpack_require__(\"s7LF\");class UserData{}var user_login_service=__webpack_require__(\"kwUn\"),ngx=__webpack_require__(\"xoVG\"),sqlite_ngx=__webpack_require__(\"6GXZ\"),network_service_service=__webpack_require__(\"ZNON\"),screen_orientation_ngx=__webpack_require__(\"b6o4\");class home_page_HomePage{constructor(userService,router,network,platform,sqlite,networkServiceService,screenOrientation){this.userService=userService,this.router=router,this.network=network,this.platform=platform,this.sqlite=sqlite,this.networkServiceService=networkServiceService,this.screenOrientation=screenOrientation,this.database_name=\"AUDIT_DB.db\",this.table_name=\"myfreakytable\",this.user_detail=new UserData,this.platform.ready().then(()=>{this.setPortrait(),this.createDB()}).catch(error=>{console.log(error)})}setPortrait(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT)}unlockScreen(){this.screenOrientation.unlock()}ngAfterViewInit(){}createDB(){console.log(\"database created\"),this.sqlite.create({name:this.database_name,location:\"default\"}).then(db=>{this.databaseObj=db}).catch(e=>{alert(\"error \"+JSON.stringify(e))})}createTable(){this.databaseObj.executeSql(\"CREATE TABLE IF NOT EXISTS USER_TB (EMP_ID INTEGER PRIMARY KEY, EMP_NAME text not null,EMAIL text not null,PASSWORD text not null,BU_ID integer not null,BU_NAME text not null)\",[]).then(()=>{this.insertRow(Number(this.user_responce.Usr.EmpId),this.user_responce.Usr.EmpName,this.user_responce.Usr.Email,this.user_responce.Usr.Password,this.user_responce.Usr.BuId,this.user_responce.Usr.BuName)}).catch(e=>{alert(\"error \"+JSON.stringify(e))})}insertRow(sEmpId,sEmpName,sEmail,sPassword,sBuId,sBuName){let sql=\"\";sql=\"DELETE FROM USER_TB\",this.databaseObj.executeSql(\"DELETE FROM USER_TB\",[]),sql=\"INSERT INTO USER_TB(EMP_ID,EMP_NAME,EMAIL,PASSWORD,BU_ID,BU_NAME) VALUES('\"+sEmpId+\"','\"+sEmpName+\"','\"+sEmail+\"','\"+sPassword+\"',\"+sBuId+\",'\"+sBuName+\"')\",this.databaseObj.executeSql(\"INSERT INTO USER_TB(EMP_ID,EMP_NAME,EMAIL,PASSWORD,BU_ID,BU_NAME) VALUES(\"+sEmpId+\",'\"+sEmpName+\"','\"+sEmail+\"','\"+sPassword+\"',\"+sBuId+\",'\"+sBuName+\"')\",[]).then(()=>{console.log(\"data inserted\"),this.getRows()}).catch(e=>{alert(\"error \"+JSON.stringify(e))})}getRows(){this.databaseObj.executeSql(\"SELECT * FROM USER_TB\",[]).then(res=>{if(this.row_data=[],console.log(res),res.rows.length>0)for(var i=0;i<res.rows.length;i++)this.row_data.push(res.rows.item(i)),console.log(this.row_data[i].toString());this.router.navigate([\"dash-board\"])}).catch(e=>{alert(\"error \"+JSON.stringify(e))})}getRows_for_offine(){this.databaseObj.executeSql(\"SELECT * FROM USER_TB\",[]).then(res=>{if(this.row_data=[],console.log(res),res.rows.length>0){for(var i=0;i<res.rows.length;i++)this.row_data.push(res.rows.item(i));this.offine_login()}}).catch(e=>(alert(\"Please check connnection Error: We must be online\"),!1))}checkconnection_serve(){this.check_status=this.networkServiceService.getCurrentNetworkStatus()}ngOnInit(){this.form_user=new fesm2015_forms.e({EMAIL:new fesm2015_forms.c(\"\"),USERPASSWORD:new fesm2015_forms.c(\"\")})}sendPostRequest(user){this.checkconnection_serve(),this.user_detail=this.form_user.value,console.log(\"we are in send request\"),console.log(this.check_status),0===this.check_status?(console.log(\"we are fetching record \"),this.userService.validate_user(this.user_detail).subscribe(response=>{try{if(this.user_responce=response,console.log(\"we have fatched record from api\"),console.log(this.user_responce.Msg),console.log(this.user_responce.Usr.EmpName),null==this.user_responce.Usr.EmpName)return alert(\"Invalid credential - Either Email or Password is invalid\"),!1;this.createTable()}catch(error){alert(\"you are not connected\")}})):1===this.check_status&&(this.row_data=[],this.getRows_for_offine())}offine_login(){let U_Name=this.user_detail.EMAIL,U_Pass=this.user_detail.USERPASSWORD;if(console.log(U_Pass.toString()),console.log(this.row_data),this.row_data.length>0)for(let obj of this.row_data){if(obj.EMP_ID!=U_Name.toString()||obj.PASSWORD!=U_Pass)return alert(\"Invalid credential - Either Email or Password is invalid\"),!1;console.log(\"we have fetched record from offle\"),this.router.navigate([\"dash-board\"])}else alert(\"Please Connect this time online\")}Dashboard_txt(){this.router.navigate([\"dash-board\"])}}var fesm2015_router=__webpack_require__(\"iInd\"),RenderType_HomePage=core.ob({encapsulation:0,styles:[[\"#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content.background[_ngcontent-%COMP%]{--ion-background-color:#000}.login[_ngcontent-%COMP%]{background-color:#fff;margin-left:2em;margin-right:2em}.item-has-focus[_ngcontent-%COMP%]{--highlight-background:#9c1313}\"]],data:{}});function View_HomePage_0(_l){return core.Jb(0,[(_l()(),core.qb(0,0,null,null,13,\"ion-header\",[],null,null,null,ionic_angular_ngfactory.D,ionic_angular_ngfactory.i)),core.pb(1,49152,null,0,ionic_angular.z,[core.h,core.k,core.x],null,null),(_l()(),core.qb(2,0,null,0,11,\"div\",[[\"style\",\"background-color: black; align-content: center;\"]],null,null,null,null,null)),(_l()(),core.qb(3,0,null,null,10,\"table\",[[\"style\",\"margin-left: 10px; margin-top: 5px; margin-bottom: 2px;\"]],null,null,null,null,null)),(_l()(),core.qb(4,0,null,null,9,\"tbody\",[],null,null,null,null,null)),(_l()(),core.qb(5,0,null,null,8,\"tr\",[],null,null,null,null,null)),(_l()(),core.qb(6,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),core.qb(7,0,null,null,1,\"span\",[[\"style\",\"margin-top:20px; margin-left: 5px; margin-top: 1px;\"]],null,null,null,null,null)),(_l()(),core.qb(8,0,null,null,0,\"img\",[[\"height\",\"35\"],[\"src\",\"../../assets/tablez.png\"],[\"width\",\"35\"]],null,null,null,null,null)),(_l()(),core.qb(9,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),core.Hb(-1,null,[\" \"])),(_l()(),core.qb(11,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),core.qb(12,0,null,null,1,\"span\",[[\"style\",\"color: white; margin-top: 1px;\"]],null,null,null,null,null)),(_l()(),core.Hb(-1,null,[\"Audit\"])),(_l()(),core.qb(14,0,null,null,35,\"ion-content\",[],null,null,null,ionic_angular_ngfactory.z,ionic_angular_ngfactory.e)),core.pb(15,49152,null,0,ionic_angular.s,[core.h,core.k,core.x],{fullscreen:[0,\"fullscreen\"]},null),(_l()(),core.qb(16,0,null,0,0,\"br\",[],null,null,null,null,null)),(_l()(),core.qb(17,0,null,0,0,\"br\",[],null,null,null,null,null)),(_l()(),core.qb(18,0,null,0,0,\"br\",[],null,null,null,null,null)),(_l()(),core.qb(19,0,null,0,1,\"div\",[[\"style\",\"text-align: center; margin-left:10px; margin-right: 10px;\"]],null,null,null,null,null)),(_l()(),core.qb(20,0,null,null,0,\"img\",[[\"height\",\"230\"],[\"src\",\"../../assets/tablez.png\"],[\"width\",\"280\"]],null,null,null,null,null)),(_l()(),core.qb(21,0,null,0,0,\"br\",[],null,null,null,null,null)),(_l()(),core.qb(22,0,null,0,27,\"div\",[[\"style\",\"margin-left:35px; margin-right: 35px;\"]],null,null,null,null,null)),(_l()(),core.qb(23,0,null,null,26,\"form\",[[\"id\",\"contactForm\"],[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"submit\"],[null,\"reset\"]],(function(_v,en,$event){var ad=!0;return\"submit\"===en&&(ad=!1!==core.Cb(_v,25).onSubmit($event)&&ad),\"reset\"===en&&(ad=!1!==core.Cb(_v,25).onReset()&&ad),ad}),null,null)),core.pb(24,16384,null,0,fesm2015_forms.q,[],null,null),core.pb(25,540672,null,0,fesm2015_forms.f,[[8,null],[8,null]],{form:[0,\"form\"]},null),core.Eb(2048,null,fesm2015_forms.a,null,[fesm2015_forms.f]),core.pb(27,16384,null,0,fesm2015_forms.k,[[4,fesm2015_forms.a]],null,null),(_l()(),core.qb(28,0,null,null,7,\"div\",[[\"style\",\"border: 1px solid black;\"]],null,null,null,null,null)),(_l()(),core.qb(29,0,null,null,6,\"ion-input\",[[\"formControlName\",\"EMAIL\"],[\"placeholder\",\"Employee Id\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0;return\"ionBlur\"===en&&(ad=!1!==core.Cb(_v,30)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Cb(_v,30)._handleInputEvent($event.target)&&ad),ad}),ionic_angular_ngfactory.E,ionic_angular_ngfactory.j)),core.pb(30,16384,null,0,ionic_angular.Ib,[core.k],null,null),core.Eb(1024,null,fesm2015_forms.h,(function(p0_0){return[p0_0]}),[ionic_angular.Ib]),core.pb(32,671744,null,0,fesm2015_forms.d,[[3,fesm2015_forms.a],[8,null],[8,null],[6,fesm2015_forms.h],[2,fesm2015_forms.p]],{name:[0,\"name\"]},null),core.Eb(2048,null,fesm2015_forms.i,null,[fesm2015_forms.d]),core.pb(34,16384,null,0,fesm2015_forms.j,[[4,fesm2015_forms.i]],null,null),core.pb(35,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],{placeholder:[0,\"placeholder\"],type:[1,\"type\"]},null),(_l()(),core.qb(36,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),core.qb(37,0,null,null,7,\"div\",[[\"style\",\"border: 1px solid black;\"]],null,null,null,null,null)),(_l()(),core.qb(38,0,null,null,6,\"ion-input\",[[\"formControlName\",\"USERPASSWORD\"],[\"placeholder\",\"Password\"],[\"type\",\"Password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0;return\"ionBlur\"===en&&(ad=!1!==core.Cb(_v,39)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Cb(_v,39)._handleInputEvent($event.target)&&ad),ad}),ionic_angular_ngfactory.E,ionic_angular_ngfactory.j)),core.pb(39,16384,null,0,ionic_angular.Ib,[core.k],null,null),core.Eb(1024,null,fesm2015_forms.h,(function(p0_0){return[p0_0]}),[ionic_angular.Ib]),core.pb(41,671744,null,0,fesm2015_forms.d,[[3,fesm2015_forms.a],[8,null],[8,null],[6,fesm2015_forms.h],[2,fesm2015_forms.p]],{name:[0,\"name\"]},null),core.Eb(2048,null,fesm2015_forms.i,null,[fesm2015_forms.d]),core.pb(43,16384,null,0,fesm2015_forms.j,[[4,fesm2015_forms.i]],null,null),core.pb(44,49152,null,0,ionic_angular.E,[core.h,core.k,core.x],{placeholder:[0,\"placeholder\"],type:[1,\"type\"]},null),(_l()(),core.qb(45,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),core.qb(46,0,null,null,3,\"div\",[],null,null,null,null,null)),(_l()(),core.qb(47,0,null,null,2,\"ion-button\",[[\"style\",\"background-color: #3986b2;\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"click\"===en&&(ad=!1!==_co.sendPostRequest(_co.form_user)&&ad),ad}),ionic_angular_ngfactory.w,ionic_angular_ngfactory.b)),core.pb(48,49152,null,0,ionic_angular.i,[core.h,core.k,core.x],null,null),(_l()(),core.Hb(-1,0,[\"   Sign In    \"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,15,0,!0),_ck(_v,25,0,_co.form_user),_ck(_v,32,0,\"EMAIL\"),_ck(_v,35,0,\"Employee Id\",\"text\"),_ck(_v,41,0,\"USERPASSWORD\"),_ck(_v,44,0,\"Password\",\"Password\")}),(function(_ck,_v){_ck(_v,23,0,core.Cb(_v,27).ngClassUntouched,core.Cb(_v,27).ngClassTouched,core.Cb(_v,27).ngClassPristine,core.Cb(_v,27).ngClassDirty,core.Cb(_v,27).ngClassValid,core.Cb(_v,27).ngClassInvalid,core.Cb(_v,27).ngClassPending),_ck(_v,29,0,core.Cb(_v,34).ngClassUntouched,core.Cb(_v,34).ngClassTouched,core.Cb(_v,34).ngClassPristine,core.Cb(_v,34).ngClassDirty,core.Cb(_v,34).ngClassValid,core.Cb(_v,34).ngClassInvalid,core.Cb(_v,34).ngClassPending),_ck(_v,38,0,core.Cb(_v,43).ngClassUntouched,core.Cb(_v,43).ngClassTouched,core.Cb(_v,43).ngClassPristine,core.Cb(_v,43).ngClassDirty,core.Cb(_v,43).ngClassValid,core.Cb(_v,43).ngClassInvalid,core.Cb(_v,43).ngClassPending)}))}function View_HomePage_Host_0(_l){return core.Jb(0,[(_l()(),core.qb(0,0,null,null,1,\"app-home\",[],null,null,null,View_HomePage_0,RenderType_HomePage)),core.pb(1,4308992,null,0,home_page_HomePage,[user_login_service.a,fesm2015_router.m,ngx.a,ionic_angular.Eb,sqlite_ngx.a,network_service_service.a,screen_orientation_ngx.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var HomePageNgFactory=core.mb(\"app-home\",home_page_HomePage,View_HomePage_Host_0,{},{},[]),common=__webpack_require__(\"SVse\");__webpack_require__.d(__webpack_exports__,\"HomePageModuleNgFactory\",(function(){return HomePageModuleNgFactory}));var HomePageModuleNgFactory=core.nb(HomePageModule,[],(function(_l){return core.zb([core.Ab(512,core.j,core.Y,[[8,[router_ngfactory.a,HomePageNgFactory]],[3,core.j],core.v]),core.Ab(4608,common.k,common.j,[core.s,[2,common.r]]),core.Ab(4608,fesm2015_forms.o,fesm2015_forms.o,[]),core.Ab(4608,ionic_angular.a,ionic_angular.a,[core.x,core.g]),core.Ab(4608,ionic_angular.Bb,ionic_angular.Bb,[ionic_angular.a,core.j,core.p]),core.Ab(4608,ionic_angular.Fb,ionic_angular.Fb,[ionic_angular.a,core.j,core.p]),core.Ab(4608,fesm2015_forms.b,fesm2015_forms.b,[]),core.Ab(4608,ngx.a,ngx.a,[]),core.Ab(1073742336,common.b,common.b,[]),core.Ab(1073742336,fesm2015_forms.n,fesm2015_forms.n,[]),core.Ab(1073742336,fesm2015_forms.g,fesm2015_forms.g,[]),core.Ab(1073742336,ionic_angular.zb,ionic_angular.zb,[]),core.Ab(1073742336,fesm2015_forms.m,fesm2015_forms.m,[]),core.Ab(1073742336,fesm2015_router.n,fesm2015_router.n,[[2,fesm2015_router.s],[2,fesm2015_router.m]]),core.Ab(1073742336,HomePageModule,HomePageModule,[]),core.Ab(1024,fesm2015_router.k,(function(){return[[{path:\"\",component:home_page_HomePage}]]}),[])])}))}}]);","extractedComments":[]}